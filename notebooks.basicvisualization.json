{"version":2,"kind":"Notebook","sha256":"ca4fa5593c663d663e711a8b727b25bf956c02a39dabf9ce67288d2039fa3d91","slug":"notebooks.basicvisualization","location":"/notebooks/01BasicVisualization.ipynb","dependencies":[],"frontmatter":{"title":"Basic Visualization using matplotlib and Cartopy","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/ERA5_interactive-cookbook","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/ERA5_interactive-cookbook/blob/main/notebooks/01BasicVisualization.ipynb","thumbnail":"/ERA5_interactive-cookbook/build/ProjectPythia_Logo_F-6850dcd07ec8ace96adabf618b385346.svg","exports":[{"format":"ipynb","filename":"01BasicVisualization.ipynb","url":"/ERA5_interactive-cookbook/build/01BasicVisualization-a4e582401381e230c6959adef23a19ce.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"image","url":"/ERA5_interactive-cookbook/build/ProjectPythia_Logo_F-6850dcd07ec8ace96adabf618b385346.svg","alt":"Project Pythia Logo","width":250,"key":"KP9b1uWD09","urlSource":"images/ProjectPythia_Logo_Final-01-Blue.svg"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M3MQPLaLfH"},{"type":"image","style":{"width":"250px"},"url":"/ERA5_interactive-cookbook/build/ecmwf-174f27accfbcc22b2b198c87a1a6bb58.png","alt":"ECMWF logo","key":"g1TXiFgXiu","urlSource":"images/ecmwf.png"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nDWaqXLqXB"},{"type":"image","style":{"width":"250px"},"url":"/ERA5_interactive-cookbook/build/googleresearch-174b09da0c1eb148e159cad63681ffd6.png","alt":"Google logo","key":"b3ITDAInFQ","urlSource":"images/googleresearch.png"}],"key":"I9kaPpLiWb"}],"key":"lE8l6HI9PY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Basic Visualization using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LvSnlbK2gf"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tCKt2Oxdpi"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bO11XGX1iz"},{"type":"inlineCode","value":"Cartopy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"luU5r1Tx9J"}],"identifier":"basic-visualization-using-matplotlib-and-cartopy","label":"Basic Visualization using matplotlib and Cartopy","html_id":"basic-visualization-using-matplotlib-and-cartopy","implicit":true,"key":"GdszTivWqV"}],"key":"iX0GLGZlDZ"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VnhhqcUsZX"}],"key":"unfirHTLlG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F6IVjFoYak"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"iUaImLN2RQ"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"A team at ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"TKohA4iuBh"},{"type":"link","url":"https://research.google/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Google Research & Cloud","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"B2iTaWbpfU"}],"urlSource":"https://research.google/","key":"L1dTQ3IXZb"},{"type":"text","value":" are making parts of the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pwvVDlZEVe"},{"type":"link","url":"https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ECMWF Reanalysis version 5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"KhyVNB0QLL"}],"urlSource":"https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5","key":"YLXam21Qrv"},{"type":"text","value":" (aka ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Q2BnWsyUIY"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ERA-5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zL6flgwKqa"}],"key":"DAFesQGCP7"},{"type":"text","value":") accessible in a ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EM8C4uQwNJ"},{"type":"cite","url":"https://www.frontiersin.org/articles/10.3389/fclim.2021.782909/full","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Analysis Ready, Cloud Optimized","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QqTDfZS6uo"}],"kind":"narrative","label":"Stern_2022","identifier":"https://www.frontiersin.org/articles/10.3389/fclim.2021.782909/full","enumerator":"1","key":"N1544glGRZ"},{"type":"text","value":" (aka ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pwVtE7itf3"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ARCO","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"kgjCwMpqWK"}],"key":"dsgQeV3RFP"},{"type":"text","value":") format.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"q1XZG854cT"}],"key":"CHBZx26jcD"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this notebook, we will do the following:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JhoC9wdCAF"}],"key":"Cz4gLckxUX"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Access the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"k9DKK0hibm"},{"type":"link","url":"https://github.com/google-research/arco-era5","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"ERA-5 ARCO","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"niwvXXgslx"}],"urlSource":"https://github.com/google-research/arco-era5","error":true,"key":"dhlnDvct2z"},{"type":"text","value":" catalog","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zg783KyUbO"}],"key":"XS3dvL6s51"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Select a particular dataset and variable from the catalog","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"OwtsFcWlp4"}],"key":"IIJZZiYK1X"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Convert the data from Gaussian to Cartesian coordinates","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kNNcdwHT1l"}],"key":"WhDDv5OZdn"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Plot a map of sea-level pressure at a specific date and time using Matplotlib and Cartopy.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ubsvQrZ1zB"}],"key":"UVh5OxSdkO"}],"key":"lWRvOOcAst"}],"key":"LcaDSFpsaY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DmUA1yL2qG"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"m3gM9vFwpR"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"f9wKUlkRmV"}],"key":"wuoS6ECjog"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FUsKeCBREF"}],"key":"rlqYLPhR0g"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"y5R02egGH5"}],"key":"M6iVPGsJrU"}],"key":"Mv0WKFWYMy"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/cartopy/cartopy.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Cartopy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZtBca3ELeC"}],"urlSource":"https://foundations.projectpythia.org/core/cartopy/cartopy.html","key":"aY6CmvTciF"}],"key":"YlgLQy71e6"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Q6CdlnoNIp"}],"key":"xZ0GEEB2P6"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[],"key":"BVA00ttNv8"}],"key":"n0FjkF98aT"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/xarray","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Xarray","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"OywjXJBK4a"}],"urlSource":"https://foundations.projectpythia.org/core/xarray","key":"V2KdKtB4YS"}],"key":"UIaExIZXUg"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ZUiLwxdr25"}],"key":"J6fOqqZwVo"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[],"key":"XohV7319VP"}],"key":"wx6lhqJczp"}],"key":"JThcCH8RV2"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"JY5f9gDkpU"}],"key":"wL1i7yoUM7"},{"type":"text","value":": 30 minutes","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"mkUNY9rOhA"}],"key":"MKFIGdjtWv"}],"key":"xO3Ar30SsY"}],"key":"BfFeizxBv7"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zXyFRcBxEh"}],"key":"fLe9NNMEY9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MuDl1mYoQD"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"X3fUj9JujE"}],"key":"IBK1NYcMBj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import fsspec\nimport xarray as xr\nimport matplotlib.pyplot as plt\nimport cartopy.crs as ccrs\nimport cartopy.feature as cfeature\nimport scipy.spatial\nimport numpy as np\nimport cf_xarray as cfxr","key":"ADX3hRI5hy"},{"type":"output","id":"kAIm7UH7E48PnFvvxpYyy","data":[],"key":"hasaQmqC9z"}],"key":"g4njvs05OV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access the ARCO ERA-5 catalog on Google Cloud","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AIWjMjdSRE"}],"identifier":"access-the-arco-era-5-catalog-on-google-cloud","label":"Access the ARCO ERA-5 catalog on Google Cloud","html_id":"access-the-arco-era-5-catalog-on-google-cloud","implicit":true,"key":"z1HWqIdXjG"}],"key":"COTRjpsPoW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Test bucket access with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C25Zq8Uv2I"},{"type":"inlineCode","value":"fsspec","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CO1ha0uORJ"}],"key":"TcaXrZIXJb"}],"key":"nt7sysz0rr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fs = fsspec.filesystem('gs')\nfs.ls('gs://gcp-public-data-arco-era5/co')","key":"ODp23scfPH"},{"type":"output","id":"WU8bOMtuhGa94xvGNz5EZ","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"['gcp-public-data-arco-era5/co/model-level-moisture.zarr',\n 'gcp-public-data-arco-era5/co/model-level-moisture.zarr-v2',\n 'gcp-public-data-arco-era5/co/model-level-wind.zarr',\n 'gcp-public-data-arco-era5/co/model-level-wind.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-forecast.zarr',\n 'gcp-public-data-arco-era5/co/single-level-forecast.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-reanalysis.zarr',\n 'gcp-public-data-arco-era5/co/single-level-reanalysis.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-surface.zarr',\n 'gcp-public-data-arco-era5/co/single-level-surface.zarr-v2']","content_type":"text/plain"}}}],"key":"UnKi2Bcf4U"}],"key":"EpqEJMJ25k"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s open the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Mr1uAWXxXp"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"single-level-reanalysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mzKnLvrDBx"}],"key":"mTQHQWmU1K"},{"type":"text","value":" Zarr file.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RjdkEZG4PO"}],"key":"QScbpy4kxU"}],"key":"lqhgmwIxLl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"reanalysis = xr.open_zarr(\n    'gs://gcp-public-data-arco-era5/co/single-level-reanalysis.zarr', \n    chunks={'time': 48},\n    consolidated=True,\n)","key":"PCqiPKuLET"},{"type":"output","id":"07VFuFmTSg-D1VZTdhtqE","data":[{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_3855/165558829.py:1: FutureWarning: In a future version, xarray will not decode timedelta values based on the presence of a timedelta-like units attribute by default. Instead it will rely on the presence of a timedelta64 dtype attribute, which is now xarray's default way of encoding timedelta64 values. To continue decoding timedeltas based on the presence of a timedelta-like units attribute, users will need to explicitly opt-in by passing True or CFTimedeltaCoder(decode_via_units=True) to decode_timedelta. To silence this warning, set decode_timedelta to True, False, or a 'CFTimedeltaCoder' instance.\n  reanalysis = xr.open_zarr(\n"}],"key":"IkEI6Gxais"}],"key":"Qj7wVCxZbn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(f'size: {reanalysis.nbytes / (1024 ** 4)} TB')","key":"ZtrXR1rZ4h"},{"type":"output","id":"c85JWB0k91WMJWJoEJHty","data":[{"output_type":"stream","name":"stdout","text":"size: 28.02835009436967 TB\n"}],"key":"MnchnI5WvC"}],"key":"JYdTtMMQpS"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"That’s ... a big file! But Xarray is just ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DenvyTh6ED"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"lazy loading","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"egzfpNftzk"}],"key":"I4judK58Mi"},{"type":"text","value":" the data. We can access the dataset’s metadata:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fNZ4tCQke8"}],"key":"qyHw1pRiQJ"}],"key":"vRrYo3csl4"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"reanalysis","key":"ClKHPuBbpT"},{"type":"output","id":"BMPy7abaJYKamdUx8cHhG","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 31TB\nDimensions:              (time: 374016, values: 542080)\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    latitude             (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    longitude            (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nDimensions without coordinates: values\nData variables: (12/38)\n    cape                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    d2m                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    hcc                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl1                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl2                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl3                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    ...                   ...\n    tsn                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    u10                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    u100                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    v10                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    v100                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    z                    (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\nAttributes:\n    Conventions:               CF-1.7\n    GRIB_centre:               ecmf\n    GRIB_centreDescription:    European Centre for Medium-Range Weather Forec...\n    GRIB_edition:              1\n    GRIB_subCentre:            0\n    history:                   2022-09-23T18:56 GRIB to CDM+CF via cfgrib-0.9...\n    institution:               European Centre for Medium-Range Weather Forec...\n    pangeo-forge:inputs_hash:  5f4378143e9f42402424280b63472752da3aa79179b53b...\n    pangeo-forge:recipe_hash:  0c3415923e347ce9dac9dc5c6d209525f4d45d799bd25b...\n    pangeo-forge:version:      0.9.1","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"1bc44ef11598550940888524857b7904","path":"/ERA5_interactive-cookbook/build/1bc44ef11598550940888524857b7904.html"}}}],"key":"BY5qXsrsYY"}],"key":"ImWDNZDz59"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s look at the mean sea-level pressure variable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w7r1kV2hYb"}],"key":"FFaLGSuViH"}],"key":"AQ0ncO7I2p"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"msl = reanalysis.msl\nmsl","key":"KR4GeZ6giX"},{"type":"output","id":"BEzhzYUSSgSD6lF2pO9eH","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 374016, values: 542080)> Size: 811GB\ndask.array<open_dataset-msl, shape=(374016, 542080), dtype=float32, chunksize=(48, 542080), chunktype=numpy.ndarray>\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    latitude             (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    longitude            (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nDimensions without coordinates: values\nAttributes: (12/25)\n    GRIB_N:                                   320\n    GRIB_NV:                                  0\n    GRIB_cfName:                              air_pressure_at_mean_sea_level\n    GRIB_cfVarName:                           msl\n    GRIB_dataType:                            an\n    GRIB_gridDefinitionDescription:           Gaussian Latitude/Longitude Grid\n    ...                                       ...\n    GRIB_totalNumber:                         0\n    GRIB_typeOfLevel:                         surface\n    GRIB_units:                               Pa\n    long_name:                                Mean sea level pressure\n    standard_name:                            air_pressure_at_mean_sea_level\n    units:                                    Pa","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"9a194313adb655e4715d98dae29f0817","path":"/ERA5_interactive-cookbook/build/9a194313adb655e4715d98dae29f0817.html"}}}],"key":"mppWSz5Wnp"}],"key":"EuIcoXbL7O"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There are two dimensions to this variable ... ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BQZOylXJYp"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lkq8gX356G"}],"key":"XWizeZmbxS"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zexHrNAuw9"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QBOPcBAwb0"}],"key":"MGbWhxTM3U"},{"type":"text","value":". The former is straightforward:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kMsxAtrM2q"}],"key":"XO4gViIbFV"}],"key":"GwOqnK4elZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"msl.time","key":"BGkJfXZDU0"},{"type":"output","id":"sB8ufD-HSsmWGkCM1IBUO","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'time' (time: 374016)> Size: 3MB\narray(['1979-01-01T00:00:00.000000000', '1979-01-01T01:00:00.000000000',\n       '1979-01-01T02:00:00.000000000', ..., '2021-08-31T21:00:00.000000000',\n       '2021-08-31T22:00:00.000000000', '2021-08-31T23:00:00.000000000'],\n      shape=(374016,), dtype='datetime64[ns]')\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nAttributes:\n    long_name:      initial time of forecast\n    standard_name:  forecast_reference_time","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;time&#x27; (time: 374016)&gt; Size: 3MB\narray([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;\nAttributes:\n    long_name:      initial time of forecast\n    standard_name:  forecast_reference_time</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'time'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 374016</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-93244297-40fa-468e-af6f-d64ed9e4cd3d' class='xr-array-in' type='checkbox' checked><label for='section-93244297-40fa-468e-af6f-d64ed9e4cd3d' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>1979-01-01 1979-01-01T01:00:00 ... 2021-08-31T23:00:00</span></div><div class='xr-array-data'><pre>array([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></div></li><li class='xr-section-item'><input id='section-3c3a51e7-da63-4373-9caa-21b3a379bc05' class='xr-section-summary-in' type='checkbox'  checked><label for='section-3c3a51e7-da63-4373-9caa-21b3a379bc05' class='xr-section-summary' >Coordinates: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>depthBelowLandLayer</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-632504d2-8025-4dab-88b3-6d7009a958b2' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-632504d2-8025-4dab-88b3-6d7009a958b2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-428f97b8-6654-43f9-a469-8b6169aafb74' class='xr-var-data-in' type='checkbox'><label for='data-428f97b8-6654-43f9-a469-8b6169aafb74' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>soil depth</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>standard_name :</span></dt><dd>depth</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>entireAtmosphere</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-bf981f95-eaa1-444e-901a-9b875cffe0dd' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-bf981f95-eaa1-444e-901a-9b875cffe0dd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-85f1b409-3a0f-46cc-8e19-3982e02cf73c' class='xr-var-data-in' type='checkbox'><label for='data-85f1b409-3a0f-46cc-8e19-3982e02cf73c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>original GRIB coordinate for key: level(entireAtmosphere)</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-77248093-cea0-49e0-936a-2a6b1cdb4989' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-77248093-cea0-49e0-936a-2a6b1cdb4989' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-19676e9c-0f04-462a-aeba-80333563f329' class='xr-var-data-in' type='checkbox'><label for='data-19676e9c-0f04-462a-aeba-80333563f329' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>ensemble member numerical id</dd><dt><span>standard_name :</span></dt><dd>realization</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=int64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>step</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-5f1f612b-0b26-4fa6-b88c-3bb0454dedbc' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5f1f612b-0b26-4fa6-b88c-3bb0454dedbc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8ef85657-8d43-4d2c-b7da-0d4ab199978d' class='xr-var-data-in' type='checkbox'><label for='data-8ef85657-8d43-4d2c-b7da-0d4ab199978d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time since forecast_reference_time</dd><dt><span>standard_name :</span></dt><dd>forecast_period</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=timedelta64[ns]]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>surface</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-976cd994-84b1-4f66-95bc-dbc1ed8e194f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-976cd994-84b1-4f66-95bc-dbc1ed8e194f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-941124b8-7952-40db-844a-49a3e25fefa8' class='xr-var-data-in' type='checkbox'><label for='data-941124b8-7952-40db-844a-49a3e25fefa8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>original GRIB coordinate for key: level(surface)</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1979-01-01 ... 2021-08-31T23:00:00</div><input id='attrs-994949f9-94c3-497b-aef1-90992092b9c0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-994949f9-94c3-497b-aef1-90992092b9c0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-869c0f52-c64c-40a2-ba7c-2efaad051a32' class='xr-var-data-in' type='checkbox'><label for='data-869c0f52-c64c-40a2-ba7c-2efaad051a32' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>initial time of forecast</dd><dt><span>standard_name :</span></dt><dd>forecast_reference_time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>valid_time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-4a275dd9-572b-4345-aff2-002401fe86e7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4a275dd9-572b-4345-aff2-002401fe86e7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-328979cf-0916-4326-a5d0-078999be45b3' class='xr-var-data-in' type='checkbox'><label for='data-328979cf-0916-4326-a5d0-078999be45b3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd><dt><span>standard_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 2.85 MiB </td>\n                        <td> 384 B </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (374016,) </td>\n                        <td> (48,) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 7792 chunks in 2 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> datetime64[ns] numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"170\" height=\"75\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"120\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"0\" y1=\"25\" x2=\"120\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"25\" style=\"stroke-width:2\" />\n  <line x1=\"6\" y1=\"0\" x2=\"6\" y2=\"25\" />\n  <line x1=\"12\" y1=\"0\" x2=\"12\" y2=\"25\" />\n  <line x1=\"18\" y1=\"0\" x2=\"18\" y2=\"25\" />\n  <line x1=\"25\" y1=\"0\" x2=\"25\" y2=\"25\" />\n  <line x1=\"31\" y1=\"0\" x2=\"31\" y2=\"25\" />\n  <line x1=\"37\" y1=\"0\" x2=\"37\" y2=\"25\" />\n  <line x1=\"44\" y1=\"0\" x2=\"44\" y2=\"25\" />\n  <line x1=\"50\" y1=\"0\" x2=\"50\" y2=\"25\" />\n  <line x1=\"56\" y1=\"0\" x2=\"56\" y2=\"25\" />\n  <line x1=\"63\" y1=\"0\" x2=\"63\" y2=\"25\" />\n  <line x1=\"69\" y1=\"0\" x2=\"69\" y2=\"25\" />\n  <line x1=\"75\" y1=\"0\" x2=\"75\" y2=\"25\" />\n  <line x1=\"82\" y1=\"0\" x2=\"82\" y2=\"25\" />\n  <line x1=\"88\" y1=\"0\" x2=\"88\" y2=\"25\" />\n  <line x1=\"94\" y1=\"0\" x2=\"94\" y2=\"25\" />\n  <line x1=\"101\" y1=\"0\" x2=\"101\" y2=\"25\" />\n  <line x1=\"107\" y1=\"0\" x2=\"107\" y2=\"25\" />\n  <line x1=\"113\" y1=\"0\" x2=\"113\" y2=\"25\" />\n  <line x1=\"120\" y1=\"0\" x2=\"120\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485\" style=\"fill:#8B4903A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"60.000000\" y=\"45.412617\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >374016</text>\n  <text x=\"140.000000\" y=\"12.706308\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(0,140.000000,12.706308)\">1</text>\n</svg>\n        </td>\n    </tr>\n</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-dc8ddc3d-c398-43ab-9723-2211f6119e72' class='xr-section-summary-in' type='checkbox'  ><label for='section-dc8ddc3d-c398-43ab-9723-2211f6119e72' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-97e4e1f5-9cde-42e6-becd-44ba0de98994' class='xr-index-data-in' type='checkbox'/><label for='index-97e4e1f5-9cde-42e6-becd-44ba0de98994' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1979-01-01 00:00:00&#x27;, &#x27;1979-01-01 01:00:00&#x27;,\n               &#x27;1979-01-01 02:00:00&#x27;, &#x27;1979-01-01 03:00:00&#x27;,\n               &#x27;1979-01-01 04:00:00&#x27;, &#x27;1979-01-01 05:00:00&#x27;,\n               &#x27;1979-01-01 06:00:00&#x27;, &#x27;1979-01-01 07:00:00&#x27;,\n               &#x27;1979-01-01 08:00:00&#x27;, &#x27;1979-01-01 09:00:00&#x27;,\n               ...\n               &#x27;2021-08-31 14:00:00&#x27;, &#x27;2021-08-31 15:00:00&#x27;,\n               &#x27;2021-08-31 16:00:00&#x27;, &#x27;2021-08-31 17:00:00&#x27;,\n               &#x27;2021-08-31 18:00:00&#x27;, &#x27;2021-08-31 19:00:00&#x27;,\n               &#x27;2021-08-31 20:00:00&#x27;, &#x27;2021-08-31 21:00:00&#x27;,\n               &#x27;2021-08-31 22:00:00&#x27;, &#x27;2021-08-31 23:00:00&#x27;],\n              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=374016, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-aa7da78b-6090-4588-bc1c-d9ed71ec1df1' class='xr-section-summary-in' type='checkbox'  checked><label for='section-aa7da78b-6090-4588-bc1c-d9ed71ec1df1' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>initial time of forecast</dd><dt><span>standard_name :</span></dt><dd>forecast_reference_time</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"fOA6KQXv7m"}],"key":"N0ySp40Bzb"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The time resolution is hourly, commencing at 0000 UTC 1 January 1979 and running through 2300 UTC 31 August 2021.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QmSdZkTOiz"}],"key":"D4cOOgdmab"}],"key":"GOrn5oADA2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The second dimension, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rSAU89m3xM"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jvDhBOr2qE"}],"key":"J5l1ArHTr0"},{"type":"text","value":", represents the actual data values. In order to usefully visualize and/or analyze it, we will need to regrid it onto a standard cartesian (in this case, latitude-longitude) grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"X2rrJKzLqF"}],"key":"k1mPiW9zEm"}],"key":"MeB0utdeea"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"admonition alert alert-danger","children":[{"type":"paragraph","children":[{"type":"text","value":"Danger!","key":"RrduzCaOIh"}],"key":"izkMfVTI00"},{"type":"text","value":"It might be tempting to run the code cell ","key":"o2knHzNboK"},{"type":"inlineCode","value":"msl.values","key":"aiTQRSGBI8"},{"type":"text","value":" here, but doing so will force all the data to be actively read into memory! Since this is a very large dataset, we definitely don't want to do that!","key":"zEBE7ROYeM"}],"key":"WOlN7jWMFg"}],"key":"qvG2rYwmtz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regrid to cartesian coordinates","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y7b6E09f1y"}],"identifier":"regrid-to-cartesian-coordinates","label":"Regrid to cartesian coordinates","html_id":"regrid-to-cartesian-coordinates","implicit":true,"key":"uZa68ksD2D"}],"key":"vuAbfnKbOD"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"These reanalyses are in their native, Guassian coordinates. We will define and use several functions to convert them to a lat-lon grid, using several functions described in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YlTAxsMKHM"},{"type":"link","url":"https://github.com/google-research/arco-era5/tree/main/docs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ARCO ERA-5 GCP example notebooks","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"L1DJR8HcLZ"}],"urlSource":"https://github.com/google-research/arco-era5/tree/main/docs","error":true,"key":"A4EcyqaMLe"}],"key":"UGqD1Klws0"}],"key":"YAJdmNvzKt"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def mirror_point_at_360(ds):\n  extra_point = (\n      ds.where(ds.longitude == 0, drop=True)\n      .assign_coords(longitude=lambda x: x.longitude + 360)\n  )\n  return xr.concat([ds, extra_point], dim='values')\n\ndef build_triangulation(x, y):\n  grid = np.stack([x, y], axis=1)\n  return scipy.spatial.Delaunay(grid)\n\ndef interpolate(data, tri, mesh):\n  indices = tri.find_simplex(mesh)\n  ndim = tri.transform.shape[-1]\n  T_inv = tri.transform[indices, :ndim, :]\n  r = tri.transform[indices, ndim, :]\n  c = np.einsum('...ij,...j', T_inv, mesh - r)\n  c = np.concatenate([c, 1 - c.sum(axis=-1, keepdims=True)], axis=-1)\n  result = np.einsum('...i,...i', data[:, tri.simplices[indices]], c)\n  return np.where(indices == -1, np.nan, result)","key":"ooRe2YYYFw"},{"type":"output","id":"mtufpIU3FkHFotqKAEUES","data":[],"key":"Lel4QOaTBI"}],"key":"DlwfBPsDsh"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Select a particular time range from the dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dWUo765cOl"}],"key":"E5oUCVMxGa"}],"key":"LWSt4I4vgp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds93 = msl.sel(time=slice('1993-03-13T18:00:00','1993-03-13T19:00:00')).compute().pipe(mirror_point_at_360)\nds93","key":"CKhQa128xQ"},{"type":"output","id":"3Z9r_CvCeE8zMbgopjEtO","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 2, values: 542720)> Size: 4MB\narray([[101284.25, 101289.  , 101291.75, ..., 100017.5 , 100018.  ,\n        100000.5 ],\n       [101362.81, 101368.06, 101372.06, ..., 100015.81, 100012.06,\n         99996.81]], shape=(2, 542720), dtype=float32)\nCoordinates:\n    depthBelowLandLayer  float64 8B 100.0\n    entireAtmosphere     float64 8B 0.0\n    latitude             (values) float64 4MB 89.78 89.78 ... -89.51 -89.78\n    longitude            (values) float64 4MB 0.0 20.0 40.0 ... 360.0 360.0\n    number               int64 8B 0\n    step                 timedelta64[ns] 8B 00:00:00\n    surface              float64 8B 0.0\n  * time                 (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-0...\n    valid_time           (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-0...\nDimensions without coordinates: values\nAttributes: (12/25)\n    GRIB_N:                                   320\n    GRIB_NV:                                  0\n    GRIB_cfName:                              air_pressure_at_mean_sea_level\n    GRIB_cfVarName:                           msl\n    GRIB_dataType:                            an\n    GRIB_gridDefinitionDescription:           Gaussian Latitude/Longitude Grid\n    ...                                       ...\n    GRIB_totalNumber:                         0\n    GRIB_typeOfLevel:                         surface\n    GRIB_units:                               Pa\n    long_name:                                Mean sea level pressure\n    standard_name:                            air_pressure_at_mean_sea_level\n    units:                                    Pa","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"a5a20fa64b2c172419d8125a823faf9c","path":"/ERA5_interactive-cookbook/build/a5a20fa64b2c172419d8125a823faf9c.html"}}}],"key":"ial3mymPsS"}],"key":"UnItj1rCaT"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regrid to a lat-lon grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MeHorrLuCZ"}],"key":"XQJzPbSFWA"}],"key":"wgcukPYGt6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tri = build_triangulation(ds93.longitude, ds93.latitude)\n\nlongitude = np.linspace(0, 360, num=360*4+1)\nlatitude = np.linspace(-90, 90, num=180*4+1)\n\nmesh = np.stack(np.meshgrid(longitude, latitude, indexing='ij'), axis=-1)\n\ngrid_mesh = interpolate(ds93.values, tri, mesh)","key":"HdZaUgsDEv"},{"type":"output","id":"-ZY9GbRZgAZNDi-z3cS6-","data":[],"key":"GEvOemcaJo"}],"key":"ErP6jYGw09"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Construct an Xarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LlJt8wrvPf"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dWApc0DPh7"},{"type":"text","value":" from the regridded array.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hdktfHWdv4"}],"key":"IHno5uaRgD"}],"key":"SKptBRpoTA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da = xr.DataArray(data=grid_mesh,\n                dims=[\"time\", \"longitude\", \"latitude\"],\n                coords=[('time', ds93.time.data), ('longitude', longitude), ('latitude', latitude)],\n                name='msl')","key":"vSkRhn1rIA"},{"type":"output","id":"yfRgcGWJpTZRsDUcLnkIG","data":[],"key":"BeMzxDaMsQ"}],"key":"SvjHEkLXsl"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Add some metadata to the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q3MSeKFe3c"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hb6Vbd5W6s"},{"type":"text","value":"’s coordinate variables.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PLEbQxVm1i"}],"key":"nkGvFiQdl3"}],"key":"UIfiJaUH9A"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.longitude.attrs['long_name'] = 'longitude'\nda.longitude.attrs['short_name'] = 'lon'\nda.longitude.attrs['units'] = 'degrees_east'\nda.longitude.attrs['axis'] = 'X'","key":"PKJuehpInF"},{"type":"output","id":"1yelQ5VKb-qTvAdLDnNyo","data":[],"key":"ikqVADyWjO"}],"key":"AVsaPkZidw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.latitude.attrs['long_name'] = 'latitude'\nda.latitude.attrs['short_name'] = 'lat'\nda.latitude.attrs['units'] = 'degrees_north'\nda.latitude.attrs['axis'] = 'Y'","key":"TxlpsoBbSd"},{"type":"output","id":"JfKTJgiL6akNVlPrXQOCk","data":[],"key":"Kb2I2DSAXA"}],"key":"IlddKqokpb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.time.attrs['long_name'] = 'time'","key":"CMaadbIqmu"},{"type":"output","id":"LlFUuuSsr-7iHb_p9E-uL","data":[],"key":"EDATm0OQZG"}],"key":"KWG6IN2YUc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da","key":"QDgCUqnX7l"},{"type":"output","id":"14sIoYZi-QUkMOQ76Y9JC","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 2, longitude: 1441, latitude: 721)> Size: 17MB\narray([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))\nCoordinates:\n  * time       (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-03-13T19:00:00\n  * longitude  (longitude) float64 12kB 0.0 0.25 0.5 0.75 ... 359.5 359.8 360.0\n  * latitude   (latitude) float64 6kB -90.0 -89.75 -89.5 ... 89.5 89.75 90.0","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;msl&#x27; (time: 2, longitude: 1441, latitude: 721)&gt; Size: 17MB\narray([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))\nCoordinates:\n  * time       (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-03-13T19:00:00\n  * longitude  (longitude) float64 12kB 0.0 0.25 0.5 0.75 ... 359.5 359.8 360.0\n  * latitude   (latitude) float64 6kB -90.0 -89.75 -89.5 ... 89.5 89.75 90.0</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'msl'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 2</li><li><span class='xr-has-index'>longitude</span>: 1441</li><li><span class='xr-has-index'>latitude</span>: 721</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-1630853b-5637-4e6f-b154-e7ba7eda2107' class='xr-array-in' type='checkbox' checked><label for='section-1630853b-5637-4e6f-b154-e7ba7eda2107' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan 1e+05 1e+05 1e+05 1e+05 ... 1.014e+05 1.014e+05 1.014e+05 nan</span></div><div class='xr-array-data'><pre>array([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))</pre></div></div></li><li class='xr-section-item'><input id='section-dbce39b5-5783-4e82-864d-86f7bbff3210' class='xr-section-summary-in' type='checkbox'  checked><label for='section-dbce39b5-5783-4e82-864d-86f7bbff3210' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-03-13T18:00:00 1993-03-13T1...</div><input id='attrs-c30a97db-8f76-4348-a5b1-2a8141bb759b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c30a97db-8f76-4348-a5b1-2a8141bb759b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1858ad5e-8211-4bc6-993c-e00ca38091a9' class='xr-var-data-in' type='checkbox'><label for='data-1858ad5e-8211-4bc6-993c-e00ca38091a9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1993-03-13T18:00:00.000000000&#x27;, &#x27;1993-03-13T19:00:00.000000000&#x27;],\n      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.25 0.5 ... 359.5 359.8 360.0</div><input id='attrs-3161094c-8355-44cd-a944-457139abe33b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3161094c-8355-44cd-a944-457139abe33b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f26173af-9c47-43b1-b056-7ef8d6d962cb' class='xr-var-data-in' type='checkbox'><label for='data-f26173af-9c47-43b1-b056-7ef8d6d962cb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>short_name :</span></dt><dd>lon</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.5000e-01, 5.0000e-01, ..., 3.5950e+02, 3.5975e+02,\n       3.6000e+02], shape=(1441,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-90.0 -89.75 -89.5 ... 89.75 90.0</div><input id='attrs-1416a333-d064-47d1-b393-7bb7da23bae4' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1416a333-d064-47d1-b393-7bb7da23bae4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9cb28132-b426-459a-8fd2-a825e0181f57' class='xr-var-data-in' type='checkbox'><label for='data-9cb28132-b426-459a-8fd2-a825e0181f57' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>short_name :</span></dt><dd>lat</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([-90.  , -89.75, -89.5 , ...,  89.5 ,  89.75,  90.  ], shape=(721,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-c68b9f6d-bbbe-4a68-8dea-b1d18abcd5aa' class='xr-section-summary-in' type='checkbox'  ><label for='section-c68b9f6d-bbbe-4a68-8dea-b1d18abcd5aa' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-ebf8e0be-5ae2-4eb8-8eba-195d9c387c5c' class='xr-index-data-in' type='checkbox'/><label for='index-ebf8e0be-5ae2-4eb8-8eba-195d9c387c5c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1993-03-13 18:00:00&#x27;, &#x27;1993-03-13 19:00:00&#x27;], dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>longitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-810af94a-ad32-459f-be39-60671935f5ab' class='xr-index-data-in' type='checkbox'/><label for='index-810af94a-ad32-459f-be39-60671935f5ab' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.25,    0.5,   0.75,    1.0,   1.25,    1.5,   1.75,    2.0,\n         2.25,\n       ...\n       357.75,  358.0, 358.25,  358.5, 358.75,  359.0, 359.25,  359.5, 359.75,\n        360.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;longitude&#x27;, length=1441))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>latitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-86f1124d-44d3-4054-98e1-58347be6e1cd' class='xr-index-data-in' type='checkbox'/><label for='index-86f1124d-44d3-4054-98e1-58347be6e1cd' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ -90.0, -89.75,  -89.5, -89.25,  -89.0, -88.75,  -88.5, -88.25,  -88.0,\n       -87.75,\n       ...\n        87.75,   88.0,  88.25,   88.5,  88.75,   89.0,  89.25,   89.5,  89.75,\n         90.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;latitude&#x27;, length=721))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-2aa27f41-1aa1-44d2-9891-5149ab6ea781' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-2aa27f41-1aa1-44d2-9891-5149ab6ea781' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"WJaiaYuSi6"}],"key":"Jj9kZcurfA"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Select only the first time in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vyZ5nnnQPH"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jBQgII0nvo"},{"type":"text","value":" and convert to hPa.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eykvZv2Sx6"}],"key":"dzitgjrDAF"}],"key":"W3meNrI0m6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slp = da.isel(time=0)/100.","key":"sycG4nPgE6"},{"type":"output","id":"7DiSmCqSPG1EqLfT1XFZd","data":[],"key":"VEh2KqhitX"}],"key":"Vqn7SE2k6x"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get a quick look at the grid to ensure all looks good.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xF9IfRmNnT"}],"key":"HUDYbxZKo7"}],"key":"D3k1oIZUFJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slp.plot(x='longitude', y='latitude', cmap='viridis', size=7, aspect=2, add_colorbar=True, robust=True)","key":"baSGfpvJ7G"},{"type":"output","id":"Ob3CxUG_KMWJW8u1l32Cs","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1400x700 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"d173cf0cc2699c689e37ed55c5e5d810","path":"/ERA5_interactive-cookbook/build/d173cf0cc2699c689e37ed55c5e5d810.png"}}}],"key":"StWUP0Rkx6"}],"key":"fjiWM5VdrD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the data on a map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jFnsqYCcsP"}],"identifier":"plot-the-data-on-a-map","label":"Plot the data on a map","html_id":"plot-the-data-on-a-map","implicit":true,"key":"sbV4rn3HZL"}],"key":"mfHrhTpW9e"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"nx,ny = np.meshgrid(longitude,latitude,indexing='ij')","key":"CL5PpUSUP0"},{"type":"output","id":"P88potaRsYFRYuO_ICi86","data":[],"key":"j6H7MuKv2I"}],"key":"NeQyHsoCuP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"timeStr = '1993-03-13T18:00'\n\ntl1 = f'ERA-5 SLP (hPa)'\ntl2 = f'Valid at: {timeStr}'\ntitle_line = (tl1 + '\\n' + tl2 + '\\n') # concatenate the two strings and add return characters","key":"CZz9bCxcQb"},{"type":"output","id":"YWMHobmjbe3PN_9dPp3Ji","data":[],"key":"qyhEX5nUCf"}],"key":"ewSBY9Ju6A"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cint = np.arange(900,1080,4)","key":"AcsuPaA46c"},{"type":"output","id":"TKGObN3-QYZrZLRwHst0U","data":[],"key":"uqD5PolxBQ"}],"key":"pKSqH6h2I2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"res = '50m'\nfig = plt.figure(figsize=(15,10))\nax = plt.subplot(1,1,1,projection=ccrs.PlateCarree())\n#ax.set_extent ([lonW+constrainLon,lonE-constrainLon,latS+constrainLat,latN-constrainLat])\nax.add_feature(cfeature.COASTLINE.with_scale(res))\nax.add_feature(cfeature.STATES.with_scale(res))\n#CL = slp.cf.plot.contour(levels=cint,linewidths=1.25,colors='green')\nCL = ax.contour(nx, ny, slp, transform=ccrs.PlateCarree(),levels=cint, linewidths=1.25, colors='green')\nax.clabel(CL, inline_spacing=0.2, fontsize=11, fmt='%.0f')\n\ntitle = plt.title(title_line,fontsize=16)\n","key":"nkf7XWi5s2"},{"type":"output","id":"zitB50bErKp6Xz9_eG72K","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/ERA5_interactive/lib/python3.13/site-packages/cartopy/io/__init__.py:241: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_physical/ne_50m_coastline.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/ERA5_interactive/lib/python3.13/site-packages/cartopy/io/__init__.py:241: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_cultural/ne_50m_admin_1_states_provinces_lakes.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1000 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"32a1d844155727a9d3181a6586e358bb","path":"/ERA5_interactive-cookbook/build/32a1d844155727a9d3181a6586e358bb.png"}}}],"key":"nQm7dB05GN"}],"key":"JESF0lPMqm"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AJ48ghaHxV"}],"key":"aD4uTzZlo8"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SuuEvXTWjI"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"bCJhvGUE9s"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this notebook, we have accessed one of the ARCO ERA-5 datasets, regridded from the ECMWF native spectral to cartesian lat-lon coordinates, and created a map of sea-level pressure for a particular date and time.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"q9No7EF3Q6"}],"key":"uWb26GwXnc"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"What’s next?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sLhCPh0IIy"}],"identifier":"whats-next","label":"What’s next?","html_id":"whats-next","implicit":true,"key":"S9hQkvIyN6"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In the next notebook, we will leverage the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"E5hSf5U8QT"},{"type":"link","url":"https://holoviz.org","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Holoviz ecosystem","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"OJiuIEDmWM"}],"urlSource":"https://holoviz.org","key":"codYPGzLZo"},{"type":"text","value":" and create interactive visualizations of the ARCO ERA-5 datasets.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"UoJBZE3a0u"}],"key":"cor5F3QmW8"}],"key":"DJGvoaNsdR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and references","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pGJJM5vdZQ"}],"identifier":"resources-and-references","label":"Resources and references","html_id":"resources-and-references","implicit":true,"key":"YvsdVCQj6O"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This notebook follows the general workflow as used in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Lze10GdG8B"},{"type":"link","url":"https://github.com/google-research/arco-era5/blob/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Google Research ARCO-ERA5 Surface Reanlysis Walkthrough notebook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mOk3bVpfmM"}],"urlSource":"https://github.com/google-research/arco-era5/blob/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb","data":{"kind":"file","org":"google-research","repo":"arco-era5","reference":"main","file":"docs/0-Surface-Reanalysis-Walkthrough.ipynb","raw":"https://raw.githubusercontent.com/google-research/arco-era5/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb"},"internal":false,"protocol":"github","key":"fOUVYCqk3l"}],"key":"digr67sEfW"}],"key":"AfFh0a8ESm"}],"key":"msYME4NdAe"}],"key":"ZV64J1OYoK"},"references":{"cite":{"order":["Stern_2022"],"data":{"Stern_2022":{"label":"Stern_2022","enumerator":"1","doi":"10.3389/fclim.2021.782909","html":"Stern, C., Abernathey, R., Hamman, J., Wegener, R., Lepore, C., Harkins, S., & Merose, A. (2022). Pangeo Forge: Crowdsourcing Analysis-Ready, Cloud Optimized Data Production. <i>Frontiers in Climate</i>, <i>3</i>. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.3389/fclim.2021.782909\">10.3389/fclim.2021.782909</a>","url":"https://doi.org/10.3389/fclim.2021.782909"}}}},"footer":{"navigation":{"prev":{"title":"How to Cite This Cookbook","url":"/notebooks/how-to-cite","group":"Preamble"},"next":{"title":"Interactive Visualization using GeoViews","url":"/notebooks/interactivevisualization","group":"Visualization Notebooks"}}},"domain":"http://localhost:3000"}