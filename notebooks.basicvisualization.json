{"version":2,"kind":"Notebook","sha256":"ca4fa5593c663d663e711a8b727b25bf956c02a39dabf9ce67288d2039fa3d91","slug":"notebooks.basicvisualization","location":"/notebooks/01BasicVisualization.ipynb","dependencies":[],"frontmatter":{"title":"Basic Visualization using matplotlib and Cartopy","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/ERA5_interactive-cookbook","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/ERA5_interactive-cookbook/blob/main/notebooks/01BasicVisualization.ipynb","thumbnail":"/ERA5_interactive-cookbook/build/ProjectPythia_Logo_F-bf824a3adf3d4c1500fa8c57ea6c49d7.svg","exports":[{"format":"ipynb","filename":"01BasicVisualization.ipynb","url":"/ERA5_interactive-cookbook/build/01BasicVisualization-070fac4705de7a0832528493fa793b52.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"image","url":"/ERA5_interactive-cookbook/build/ProjectPythia_Logo_F-bf824a3adf3d4c1500fa8c57ea6c49d7.svg","alt":"Project Pythia Logo","width":250,"key":"WeB8d5e0Kz","urlSource":"images/ProjectPythia_Logo_Final-01-Blue.svg"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vxZ1Kc4KAS"},{"type":"image","style":{"width":"250px"},"url":"/ERA5_interactive-cookbook/build/ecmwf-ca22a9a5cc09981ad09cfe546dc117a2.png","alt":"ECMWF logo","key":"eFSkveKHTs","urlSource":"images/ecmwf.png"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TXsV8Pez8o"},{"type":"image","style":{"width":"250px"},"url":"/ERA5_interactive-cookbook/build/googleresearch-db82a34bef0f0ecb2cb9dcbfa87c0fe0.png","alt":"Google logo","key":"MSTaU5Tkdp","urlSource":"images/googleresearch.png"}],"key":"GX4IwTAvTa"}],"key":"XhosbsT9i1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Basic Visualization using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j5aULAiVxq"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JZ7JAfSB1U"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aasqxnbKoe"},{"type":"inlineCode","value":"Cartopy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lTfKzvzMGv"}],"identifier":"basic-visualization-using-matplotlib-and-cartopy","label":"Basic Visualization using matplotlib and Cartopy","html_id":"basic-visualization-using-matplotlib-and-cartopy","implicit":true,"key":"cOUHgLOtPd"}],"key":"UVqViDNxnR"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g3eqVK5l4P"}],"key":"lTjUUosvEE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kFtRpjzIMS"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"gHNWoXOFxH"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"A team at ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"C6piZJLETt"},{"type":"link","url":"https://research.google/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Google Research & Cloud","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EJW3bfRBS8"}],"urlSource":"https://research.google/","key":"nbCjrfLfdz"},{"type":"text","value":" are making parts of the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"enetf0v0cr"},{"type":"link","url":"https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ECMWF Reanalysis version 5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AmN0vifM4e"}],"urlSource":"https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5","key":"IA3jbDiWAr"},{"type":"text","value":" (aka ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"TwXGiJzfDX"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ERA-5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QGro9qowlK"}],"key":"nzslgB3TB7"},{"type":"text","value":") accessible in a ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lpJ8WcLbGg"},{"type":"cite","url":"https://www.frontiersin.org/articles/10.3389/fclim.2021.782909/full","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Analysis Ready, Cloud Optimized","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ylLXW0ZDde"}],"kind":"narrative","label":"Stern_2022","identifier":"https://www.frontiersin.org/articles/10.3389/fclim.2021.782909/full","enumerator":"1","key":"dWmZUnKCTK"},{"type":"text","value":" (aka ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EiJgIour6s"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ARCO","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"hh7kAMU68e"}],"key":"iZ8FdqyaSj"},{"type":"text","value":") format.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AG4cmg7gFa"}],"key":"CvpIgDI16O"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this notebook, we will do the following:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xa3hv7HE6U"}],"key":"LEZ4CyfGdy"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Access the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ihSgnImQ4H"},{"type":"link","url":"https://github.com/google-research/arco-era5","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"ERA-5 ARCO","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"trx7WYDdsU"}],"urlSource":"https://github.com/google-research/arco-era5","error":true,"key":"yPME3GHklu"},{"type":"text","value":" catalog","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"iHTTpJlHMU"}],"key":"FZsqabn2Od"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Select a particular dataset and variable from the catalog","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"X6MSpET5Ar"}],"key":"ozvFLXYp57"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Convert the data from Gaussian to Cartesian coordinates","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"goPg1cZG52"}],"key":"yjl9TApQNV"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Plot a map of sea-level pressure at a specific date and time using Matplotlib and Cartopy.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"D7vWzmMKTh"}],"key":"E42FdqDau7"}],"key":"LAYFM5tx0S"}],"key":"ijVpWjJqrL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T2LoCb0uus"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"qSksTvSrv9"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"u4tpl0WF9L"}],"key":"GbHukC8ybW"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ad3z3pRL3k"}],"key":"bNOgIQj1aT"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eSNm5po0hu"}],"key":"fXJodWAP4v"}],"key":"v0yoTYtbDm"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/cartopy/cartopy.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Cartopy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bZAN03vYLz"}],"urlSource":"https://foundations.projectpythia.org/core/cartopy/cartopy.html","key":"nbKhhd8QvN"}],"key":"zhWkxBWPWL"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"aBReHowhp3"}],"key":"P16U1u06Ts"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[],"key":"DkzFOxxrN6"}],"key":"qZirAHZJEf"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/xarray","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Xarray","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RpDcWLMcB6"}],"urlSource":"https://foundations.projectpythia.org/core/xarray","key":"WZ2H8Axn4y"}],"key":"eKIEdGn64n"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"uQ3HnGK1X9"}],"key":"GWCnHKqmjA"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[],"key":"UPhNehqWeT"}],"key":"kQPIh1Ashf"}],"key":"KJcTJN0zGW"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"He0uvKezMK"}],"key":"UDX5BKOo58"},{"type":"text","value":": 30 minutes","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XZ1XCFHFMB"}],"key":"Gq7m98Rq1T"}],"key":"fWGZ5oDekD"}],"key":"C0DyHvJFYz"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F7y1RTDs4k"}],"key":"CvXilO6pFn"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BOai4ISeJD"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"zPmfKe54sM"}],"key":"zRif7LBM6k"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import fsspec\nimport xarray as xr\nimport matplotlib.pyplot as plt\nimport cartopy.crs as ccrs\nimport cartopy.feature as cfeature\nimport scipy.spatial\nimport numpy as np\nimport cf_xarray as cfxr","key":"MVViKCWWMM"},{"type":"output","id":"m7mn3gey6rd3W3QrAxsbD","data":[],"key":"HQnbiODV2j"}],"key":"mzaLxOwLje"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access the ARCO ERA-5 catalog on Google Cloud","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YV9YPgDXGY"}],"identifier":"access-the-arco-era-5-catalog-on-google-cloud","label":"Access the ARCO ERA-5 catalog on Google Cloud","html_id":"access-the-arco-era-5-catalog-on-google-cloud","implicit":true,"key":"kRKQd0scUT"}],"key":"LSgfziL9G3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Test bucket access with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZWqaLGaWc7"},{"type":"inlineCode","value":"fsspec","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"anOEb2Tf79"}],"key":"GaFqZxCheS"}],"key":"HKbDJXhRTO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fs = fsspec.filesystem('gs')\nfs.ls('gs://gcp-public-data-arco-era5/co')","key":"eSEbRfWKAr"},{"type":"output","id":"L9Xm2k7rGjrr6OOFBLURr","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"['gcp-public-data-arco-era5/co/model-level-moisture.zarr',\n 'gcp-public-data-arco-era5/co/model-level-moisture.zarr-v2',\n 'gcp-public-data-arco-era5/co/model-level-wind.zarr',\n 'gcp-public-data-arco-era5/co/model-level-wind.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-forecast.zarr',\n 'gcp-public-data-arco-era5/co/single-level-forecast.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-reanalysis.zarr',\n 'gcp-public-data-arco-era5/co/single-level-reanalysis.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-surface.zarr',\n 'gcp-public-data-arco-era5/co/single-level-surface.zarr-v2']","content_type":"text/plain"}}}],"key":"hvQqwnxLOi"}],"key":"sNhnJagjpy"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s open the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F1Fj2zzhZ6"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"single-level-reanalysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bs11tyc6ND"}],"key":"Iyh87zNXDk"},{"type":"text","value":" Zarr file.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZopMn5i0mR"}],"key":"eqmskvj2lK"}],"key":"e9sI17j6g1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"reanalysis = xr.open_zarr(\n    'gs://gcp-public-data-arco-era5/co/single-level-reanalysis.zarr', \n    chunks={'time': 48},\n    consolidated=True,\n)","key":"mUftpGWuq8"},{"type":"output","id":"3iTSXxSdLKzWzQfgC0l5M","data":[{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_3911/165558829.py:1: FutureWarning: In a future version, xarray will not decode the variable 'step' into a timedelta64 dtype based on the presence of a timedelta-like 'units' attribute by default. Instead it will rely on the presence of a timedelta64 'dtype' attribute, which is now xarray's default way of encoding timedelta64 values.\nTo continue decoding into a timedelta64 dtype, either set `decode_timedelta=True` when opening this dataset, or add the attribute `dtype='timedelta64[ns]'` to this variable on disk.\nTo opt-in to future behavior, set `decode_timedelta=False`.\n  reanalysis = xr.open_zarr(\n"}],"key":"yI7Hf7y9Xq"}],"key":"xo7GTOvZkV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(f'size: {reanalysis.nbytes / (1024 ** 4)} TB')","key":"BDvCYaOJxH"},{"type":"output","id":"SXYjSFhQvsgwaPuoH0OYg","data":[{"output_type":"stream","name":"stdout","text":"size: 28.02835009436967 TB\n"}],"key":"bG323fQnD1"}],"key":"CRSfGqtRda"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"That’s ... a big file! But Xarray is just ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GUZdu9H6vP"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"lazy loading","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xlwRP1GFYs"}],"key":"XC1JaB2U7B"},{"type":"text","value":" the data. We can access the dataset’s metadata:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J02Paksacp"}],"key":"tWYIOX6dDZ"}],"key":"pw1kzg7qlI"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"reanalysis","key":"peV4vOeetk"},{"type":"output","id":"F4_xuzfjA_HvysCAczMis","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 31TB\nDimensions:              (time: 374016, values: 542080)\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    latitude             (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    longitude            (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nDimensions without coordinates: values\nData variables: (12/38)\n    cape                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    d2m                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    hcc                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl1                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl2                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl3                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    ...                   ...\n    tsn                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    u10                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    u100                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    v10                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    v100                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    z                    (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\nAttributes:\n    Conventions:               CF-1.7\n    GRIB_centre:               ecmf\n    GRIB_centreDescription:    European Centre for Medium-Range Weather Forec...\n    GRIB_edition:              1\n    GRIB_subCentre:            0\n    history:                   2022-09-23T18:56 GRIB to CDM+CF via cfgrib-0.9...\n    institution:               European Centre for Medium-Range Weather Forec...\n    pangeo-forge:inputs_hash:  5f4378143e9f42402424280b63472752da3aa79179b53b...\n    pangeo-forge:recipe_hash:  0c3415923e347ce9dac9dc5c6d209525f4d45d799bd25b...\n    pangeo-forge:version:      0.9.1","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"a0533c22aa099ee6d24c83ebedb15fc3","path":"/ERA5_interactive-cookbook/build/a0533c22aa099ee6d24c83ebedb15fc3.html"}}}],"key":"xyDZafOOxX"}],"key":"wY3ulHqVjv"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s look at the mean sea-level pressure variable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r14bLhUzdO"}],"key":"d72yV44rcU"}],"key":"bCdcjHtbvx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"msl = reanalysis.msl\nmsl","key":"vnufHFaLwQ"},{"type":"output","id":"0vgIt8Z8Zr7osaqd7Lvt1","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 374016, values: 542080)> Size: 811GB\ndask.array<open_dataset-msl, shape=(374016, 542080), dtype=float32, chunksize=(48, 542080), chunktype=numpy.ndarray>\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    latitude             (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    longitude            (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nDimensions without coordinates: values\nAttributes: (12/25)\n    GRIB_N:                                   320\n    GRIB_NV:                                  0\n    GRIB_cfName:                              air_pressure_at_mean_sea_level\n    GRIB_cfVarName:                           msl\n    GRIB_dataType:                            an\n    GRIB_gridDefinitionDescription:           Gaussian Latitude/Longitude Grid\n    ...                                       ...\n    GRIB_totalNumber:                         0\n    GRIB_typeOfLevel:                         surface\n    GRIB_units:                               Pa\n    long_name:                                Mean sea level pressure\n    standard_name:                            air_pressure_at_mean_sea_level\n    units:                                    Pa","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"4f8b520ab7008c94bee8408ca24d058c","path":"/ERA5_interactive-cookbook/build/4f8b520ab7008c94bee8408ca24d058c.html"}}}],"key":"TDU9KmlFFo"}],"key":"qf9gwg71rP"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There are two dimensions to this variable ... ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bsSAg57sgu"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LC7CnY2al9"}],"key":"MLXaLqM82e"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gjJj9r0s0Y"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HstUw6R5lC"}],"key":"EKAar9fEyD"},{"type":"text","value":". The former is straightforward:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OGbOlA3FGd"}],"key":"mprxPD8vRq"}],"key":"ZRA4IV7f6e"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"msl.time","key":"x1KxXvOpBt"},{"type":"output","id":"I0UwENw1GAmnxWCE0oVl4","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'time' (time: 374016)> Size: 3MB\narray(['1979-01-01T00:00:00.000000000', '1979-01-01T01:00:00.000000000',\n       '1979-01-01T02:00:00.000000000', ..., '2021-08-31T21:00:00.000000000',\n       '2021-08-31T22:00:00.000000000', '2021-08-31T23:00:00.000000000'],\n      shape=(374016,), dtype='datetime64[ns]')\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nAttributes:\n    long_name:      initial time of forecast\n    standard_name:  forecast_reference_time","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;time&#x27; (time: 374016)&gt; Size: 3MB\narray([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;\nAttributes:\n    long_name:      initial time of forecast\n    standard_name:  forecast_reference_time</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'time'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 374016</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-eb0078fd-59d0-4d25-96db-3d8929426190' class='xr-array-in' type='checkbox' checked><label for='section-eb0078fd-59d0-4d25-96db-3d8929426190' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>1979-01-01 1979-01-01T01:00:00 ... 2021-08-31T23:00:00</span></div><div class='xr-array-data'><pre>array([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></div></li><li class='xr-section-item'><input id='section-70daa955-e0d5-4c07-845b-7fbfa6d7f507' class='xr-section-summary-in' type='checkbox'  checked><label for='section-70daa955-e0d5-4c07-845b-7fbfa6d7f507' class='xr-section-summary' >Coordinates: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>depthBelowLandLayer</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-5b125fbe-547d-43f3-a7bc-f3268e07845f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5b125fbe-547d-43f3-a7bc-f3268e07845f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-594e9537-877e-4cee-b6f3-e9e61530a1e7' class='xr-var-data-in' type='checkbox'><label for='data-594e9537-877e-4cee-b6f3-e9e61530a1e7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>soil depth</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>standard_name :</span></dt><dd>depth</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>entireAtmosphere</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-a1a18125-b2ee-434b-81b0-69e211028028' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a1a18125-b2ee-434b-81b0-69e211028028' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3bb8e402-b6d1-49a4-a4b7-3cf4fd858589' class='xr-var-data-in' type='checkbox'><label for='data-3bb8e402-b6d1-49a4-a4b7-3cf4fd858589' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>original GRIB coordinate for key: level(entireAtmosphere)</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-55953a59-e451-40ff-b6e9-265e2d1f3ae8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-55953a59-e451-40ff-b6e9-265e2d1f3ae8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f9e586fb-db4c-43ac-975b-9355e3e9a6eb' class='xr-var-data-in' type='checkbox'><label for='data-f9e586fb-db4c-43ac-975b-9355e3e9a6eb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>ensemble member numerical id</dd><dt><span>standard_name :</span></dt><dd>realization</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=int64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>step</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-e206700b-1607-4590-b0d5-4c7c9739e94c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e206700b-1607-4590-b0d5-4c7c9739e94c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-19e9adf5-b921-4a90-b4bb-f3791aa65962' class='xr-var-data-in' type='checkbox'><label for='data-19e9adf5-b921-4a90-b4bb-f3791aa65962' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time since forecast_reference_time</dd><dt><span>standard_name :</span></dt><dd>forecast_period</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=timedelta64[ns]]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>surface</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-f4b56590-e294-4d76-9d97-8dde15b34f4d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f4b56590-e294-4d76-9d97-8dde15b34f4d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e0920ec9-c820-4c17-a3de-ab33a3f83020' class='xr-var-data-in' type='checkbox'><label for='data-e0920ec9-c820-4c17-a3de-ab33a3f83020' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>original GRIB coordinate for key: level(surface)</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1979-01-01 ... 2021-08-31T23:00:00</div><input id='attrs-374d0439-ecfb-40d6-8af9-c100e89bb145' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-374d0439-ecfb-40d6-8af9-c100e89bb145' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d642e453-8ffa-4672-8357-81b528a8bf99' class='xr-var-data-in' type='checkbox'><label for='data-d642e453-8ffa-4672-8357-81b528a8bf99' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>initial time of forecast</dd><dt><span>standard_name :</span></dt><dd>forecast_reference_time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>valid_time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-dabe2310-299a-4160-b8be-48dd905e1ab5' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-dabe2310-299a-4160-b8be-48dd905e1ab5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e3cdfa7b-6df7-494b-bed6-1fe915715b5e' class='xr-var-data-in' type='checkbox'><label for='data-e3cdfa7b-6df7-494b-bed6-1fe915715b5e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd><dt><span>standard_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 2.85 MiB </td>\n                        <td> 384 B </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (374016,) </td>\n                        <td> (48,) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 7792 chunks in 2 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> datetime64[ns] numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"170\" height=\"75\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"120\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"0\" y1=\"25\" x2=\"120\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"25\" style=\"stroke-width:2\" />\n  <line x1=\"6\" y1=\"0\" x2=\"6\" y2=\"25\" />\n  <line x1=\"12\" y1=\"0\" x2=\"12\" y2=\"25\" />\n  <line x1=\"18\" y1=\"0\" x2=\"18\" y2=\"25\" />\n  <line x1=\"25\" y1=\"0\" x2=\"25\" y2=\"25\" />\n  <line x1=\"31\" y1=\"0\" x2=\"31\" y2=\"25\" />\n  <line x1=\"37\" y1=\"0\" x2=\"37\" y2=\"25\" />\n  <line x1=\"44\" y1=\"0\" x2=\"44\" y2=\"25\" />\n  <line x1=\"50\" y1=\"0\" x2=\"50\" y2=\"25\" />\n  <line x1=\"56\" y1=\"0\" x2=\"56\" y2=\"25\" />\n  <line x1=\"63\" y1=\"0\" x2=\"63\" y2=\"25\" />\n  <line x1=\"69\" y1=\"0\" x2=\"69\" y2=\"25\" />\n  <line x1=\"75\" y1=\"0\" x2=\"75\" y2=\"25\" />\n  <line x1=\"82\" y1=\"0\" x2=\"82\" y2=\"25\" />\n  <line x1=\"88\" y1=\"0\" x2=\"88\" y2=\"25\" />\n  <line x1=\"94\" y1=\"0\" x2=\"94\" y2=\"25\" />\n  <line x1=\"101\" y1=\"0\" x2=\"101\" y2=\"25\" />\n  <line x1=\"107\" y1=\"0\" x2=\"107\" y2=\"25\" />\n  <line x1=\"113\" y1=\"0\" x2=\"113\" y2=\"25\" />\n  <line x1=\"120\" y1=\"0\" x2=\"120\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485\" style=\"fill:#8B4903A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"60.000000\" y=\"45.412617\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >374016</text>\n  <text x=\"140.000000\" y=\"12.706308\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(0,140.000000,12.706308)\">1</text>\n</svg>\n        </td>\n    </tr>\n</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-29f5e007-ed39-44c1-a2da-6d3b5034e04c' class='xr-section-summary-in' type='checkbox'  ><label for='section-29f5e007-ed39-44c1-a2da-6d3b5034e04c' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-d8c8255d-7371-4105-9520-01b19c272fc2' class='xr-index-data-in' type='checkbox'/><label for='index-d8c8255d-7371-4105-9520-01b19c272fc2' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1979-01-01 00:00:00&#x27;, &#x27;1979-01-01 01:00:00&#x27;,\n               &#x27;1979-01-01 02:00:00&#x27;, &#x27;1979-01-01 03:00:00&#x27;,\n               &#x27;1979-01-01 04:00:00&#x27;, &#x27;1979-01-01 05:00:00&#x27;,\n               &#x27;1979-01-01 06:00:00&#x27;, &#x27;1979-01-01 07:00:00&#x27;,\n               &#x27;1979-01-01 08:00:00&#x27;, &#x27;1979-01-01 09:00:00&#x27;,\n               ...\n               &#x27;2021-08-31 14:00:00&#x27;, &#x27;2021-08-31 15:00:00&#x27;,\n               &#x27;2021-08-31 16:00:00&#x27;, &#x27;2021-08-31 17:00:00&#x27;,\n               &#x27;2021-08-31 18:00:00&#x27;, &#x27;2021-08-31 19:00:00&#x27;,\n               &#x27;2021-08-31 20:00:00&#x27;, &#x27;2021-08-31 21:00:00&#x27;,\n               &#x27;2021-08-31 22:00:00&#x27;, &#x27;2021-08-31 23:00:00&#x27;],\n              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=374016, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1649465b-8de7-4ad9-80b5-aaade404740c' class='xr-section-summary-in' type='checkbox'  checked><label for='section-1649465b-8de7-4ad9-80b5-aaade404740c' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>initial time of forecast</dd><dt><span>standard_name :</span></dt><dd>forecast_reference_time</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"ar2bwLBfHA"}],"key":"HNtrz33QwH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The time resolution is hourly, commencing at 0000 UTC 1 January 1979 and running through 2300 UTC 31 August 2021.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jo54JiIjPa"}],"key":"kyFkRrUzJv"}],"key":"kIWkDHcWLk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The second dimension, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sjmrHk6WM6"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DVsGqHDyxk"}],"key":"wVYn2zTlVt"},{"type":"text","value":", represents the actual data values. In order to usefully visualize and/or analyze it, we will need to regrid it onto a standard cartesian (in this case, latitude-longitude) grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Mc0d0Tyc3V"}],"key":"lB3CzZ6rE3"}],"key":"eEV8LfBmYT"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"admonition alert alert-danger","children":[{"type":"paragraph","children":[{"type":"text","value":"Danger!","key":"vtB5VxicN7"}],"key":"ufZoPsgKL2"},{"type":"text","value":"It might be tempting to run the code cell ","key":"pkHFofObd8"},{"type":"inlineCode","value":"msl.values","key":"Wvbcu5BLKa"},{"type":"text","value":" here, but doing so will force all the data to be actively read into memory! Since this is a very large dataset, we definitely don't want to do that!","key":"oHogOneqrr"}],"key":"YkGddaYtuz"}],"key":"jD3hvy3mtt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regrid to cartesian coordinates","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qGoDqBIYrj"}],"identifier":"regrid-to-cartesian-coordinates","label":"Regrid to cartesian coordinates","html_id":"regrid-to-cartesian-coordinates","implicit":true,"key":"uL1jp1D73p"}],"key":"OkYO36k1G2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"These reanalyses are in their native, Guassian coordinates. We will define and use several functions to convert them to a lat-lon grid, using several functions described in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CRxZLAEP5Z"},{"type":"link","url":"https://github.com/google-research/arco-era5/tree/main/docs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ARCO ERA-5 GCP example notebooks","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fCAak7Yums"}],"urlSource":"https://github.com/google-research/arco-era5/tree/main/docs","error":true,"key":"YkY05H2ggw"}],"key":"QOYMOJs9q7"}],"key":"Wo5P2rc0WQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def mirror_point_at_360(ds):\n  extra_point = (\n      ds.where(ds.longitude == 0, drop=True)\n      .assign_coords(longitude=lambda x: x.longitude + 360)\n  )\n  return xr.concat([ds, extra_point], dim='values')\n\ndef build_triangulation(x, y):\n  grid = np.stack([x, y], axis=1)\n  return scipy.spatial.Delaunay(grid)\n\ndef interpolate(data, tri, mesh):\n  indices = tri.find_simplex(mesh)\n  ndim = tri.transform.shape[-1]\n  T_inv = tri.transform[indices, :ndim, :]\n  r = tri.transform[indices, ndim, :]\n  c = np.einsum('...ij,...j', T_inv, mesh - r)\n  c = np.concatenate([c, 1 - c.sum(axis=-1, keepdims=True)], axis=-1)\n  result = np.einsum('...i,...i', data[:, tri.simplices[indices]], c)\n  return np.where(indices == -1, np.nan, result)","key":"KDtFcBagry"},{"type":"output","id":"KNTulv-rVlP-GgMSy5YMO","data":[],"key":"BVZdp3AseJ"}],"key":"tk5YBFbkhm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Select a particular time range from the dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dSsVPTOHSE"}],"key":"sCXfjKwHwe"}],"key":"nLs9tYPxsA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds93 = msl.sel(time=slice('1993-03-13T18:00:00','1993-03-13T19:00:00')).compute().pipe(mirror_point_at_360)\nds93","key":"jcS2ekEKqf"},{"type":"output","id":"Hk3yB2qoez7xU0t1j86Yf","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 2, values: 542720)> Size: 4MB\narray([[101284.25, 101289.  , 101291.75, ..., 100017.5 , 100018.  ,\n        100000.5 ],\n       [101362.81, 101368.06, 101372.06, ..., 100015.81, 100012.06,\n         99996.81]], shape=(2, 542720), dtype=float32)\nCoordinates:\n    depthBelowLandLayer  float64 8B 100.0\n    entireAtmosphere     float64 8B 0.0\n    latitude             (values) float64 4MB 89.78 89.78 ... -89.51 -89.78\n    longitude            (values) float64 4MB 0.0 20.0 40.0 ... 360.0 360.0\n    number               int64 8B 0\n    step                 timedelta64[ns] 8B 00:00:00\n    surface              float64 8B 0.0\n  * time                 (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-0...\n    valid_time           (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-0...\nDimensions without coordinates: values\nAttributes: (12/25)\n    GRIB_N:                                   320\n    GRIB_NV:                                  0\n    GRIB_cfName:                              air_pressure_at_mean_sea_level\n    GRIB_cfVarName:                           msl\n    GRIB_dataType:                            an\n    GRIB_gridDefinitionDescription:           Gaussian Latitude/Longitude Grid\n    ...                                       ...\n    GRIB_totalNumber:                         0\n    GRIB_typeOfLevel:                         surface\n    GRIB_units:                               Pa\n    long_name:                                Mean sea level pressure\n    standard_name:                            air_pressure_at_mean_sea_level\n    units:                                    Pa","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"ea6a3a705729c4cd161ab68b5810c203","path":"/ERA5_interactive-cookbook/build/ea6a3a705729c4cd161ab68b5810c203.html"}}}],"key":"DIdUwrpAYf"}],"key":"EzPqWicwIw"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regrid to a lat-lon grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dnmeJ95Elf"}],"key":"kFkf3kte2R"}],"key":"or9fxn6Z8U"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tri = build_triangulation(ds93.longitude, ds93.latitude)\n\nlongitude = np.linspace(0, 360, num=360*4+1)\nlatitude = np.linspace(-90, 90, num=180*4+1)\n\nmesh = np.stack(np.meshgrid(longitude, latitude, indexing='ij'), axis=-1)\n\ngrid_mesh = interpolate(ds93.values, tri, mesh)","key":"RC5ys28A9w"},{"type":"output","id":"nWcVq_lBc-mCUW1lBSx0i","data":[],"key":"rBSusaFx9I"}],"key":"cdBPZc44Ow"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Construct an Xarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IYwzXQlSDt"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cs9dxoMAgC"},{"type":"text","value":" from the regridded array.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cRSFSkDR6Z"}],"key":"bSWP1Q996r"}],"key":"G2WC6wkSGa"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da = xr.DataArray(data=grid_mesh,\n                dims=[\"time\", \"longitude\", \"latitude\"],\n                coords=[('time', ds93.time.data), ('longitude', longitude), ('latitude', latitude)],\n                name='msl')","key":"U99bhs6Fug"},{"type":"output","id":"mVlKzbvHxlu-8SEHIQDyO","data":[],"key":"rcp3WXNPkd"}],"key":"hGOhe4af0j"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Add some metadata to the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qzk4QUaOS8"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TyYXstxAbr"},{"type":"text","value":"’s coordinate variables.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fzfAvO1a0q"}],"key":"VotVA2cDxA"}],"key":"IoppUcBNmw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.longitude.attrs['long_name'] = 'longitude'\nda.longitude.attrs['short_name'] = 'lon'\nda.longitude.attrs['units'] = 'degrees_east'\nda.longitude.attrs['axis'] = 'X'","key":"XaPk2WgFh8"},{"type":"output","id":"Gr6QKJ9-Hbkx2dw0ZzBpK","data":[],"key":"sbvki8EQyT"}],"key":"IPCQYvOTVD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.latitude.attrs['long_name'] = 'latitude'\nda.latitude.attrs['short_name'] = 'lat'\nda.latitude.attrs['units'] = 'degrees_north'\nda.latitude.attrs['axis'] = 'Y'","key":"biSQ9BArTP"},{"type":"output","id":"GFSmZf4b5fZ9i2gV2bCiG","data":[],"key":"bTtDpyj7ld"}],"key":"lEKQnkW3NJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.time.attrs['long_name'] = 'time'","key":"yFsUW8ozR3"},{"type":"output","id":"McSzlYgwxElxYcfGcJ4vh","data":[],"key":"FO1c0jMqRY"}],"key":"LRvrlaYHIe"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da","key":"YHPrQYqpCp"},{"type":"output","id":"1p_Uwm9sqDCiL_ttIXbpL","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 2, longitude: 1441, latitude: 721)> Size: 17MB\narray([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))\nCoordinates:\n  * time       (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-03-13T19:00:00\n  * longitude  (longitude) float64 12kB 0.0 0.25 0.5 0.75 ... 359.5 359.8 360.0\n  * latitude   (latitude) float64 6kB -90.0 -89.75 -89.5 ... 89.5 89.75 90.0","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;msl&#x27; (time: 2, longitude: 1441, latitude: 721)&gt; Size: 17MB\narray([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))\nCoordinates:\n  * time       (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-03-13T19:00:00\n  * longitude  (longitude) float64 12kB 0.0 0.25 0.5 0.75 ... 359.5 359.8 360.0\n  * latitude   (latitude) float64 6kB -90.0 -89.75 -89.5 ... 89.5 89.75 90.0</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'msl'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 2</li><li><span class='xr-has-index'>longitude</span>: 1441</li><li><span class='xr-has-index'>latitude</span>: 721</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-392ad4fa-fc3c-483f-8602-e1433dbea936' class='xr-array-in' type='checkbox' checked><label for='section-392ad4fa-fc3c-483f-8602-e1433dbea936' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan 1e+05 1e+05 1e+05 1e+05 ... 1.014e+05 1.014e+05 1.014e+05 nan</span></div><div class='xr-array-data'><pre>array([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))</pre></div></div></li><li class='xr-section-item'><input id='section-f42a95ac-f514-4594-b51b-fdddce20d689' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f42a95ac-f514-4594-b51b-fdddce20d689' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-03-13T18:00:00 1993-03-13T1...</div><input id='attrs-8a4fb81b-b6f9-4bc2-ba0c-364f62573690' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8a4fb81b-b6f9-4bc2-ba0c-364f62573690' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9addac23-1714-4502-a05b-9adcdef645f1' class='xr-var-data-in' type='checkbox'><label for='data-9addac23-1714-4502-a05b-9adcdef645f1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1993-03-13T18:00:00.000000000&#x27;, &#x27;1993-03-13T19:00:00.000000000&#x27;],\n      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.25 0.5 ... 359.5 359.8 360.0</div><input id='attrs-f0af7c56-3091-4d3a-8155-2629168b7506' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f0af7c56-3091-4d3a-8155-2629168b7506' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cf30505c-4154-473a-b1df-1033fb385bad' class='xr-var-data-in' type='checkbox'><label for='data-cf30505c-4154-473a-b1df-1033fb385bad' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>short_name :</span></dt><dd>lon</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.5000e-01, 5.0000e-01, ..., 3.5950e+02, 3.5975e+02,\n       3.6000e+02], shape=(1441,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-90.0 -89.75 -89.5 ... 89.75 90.0</div><input id='attrs-3dd8a4c9-7273-4d17-907f-facef1c549d9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3dd8a4c9-7273-4d17-907f-facef1c549d9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0908fd9c-4dc0-4cb8-96ff-897cfa79255d' class='xr-var-data-in' type='checkbox'><label for='data-0908fd9c-4dc0-4cb8-96ff-897cfa79255d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>short_name :</span></dt><dd>lat</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([-90.  , -89.75, -89.5 , ...,  89.5 ,  89.75,  90.  ], shape=(721,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-186365fa-95bf-40e7-8c8d-fe85bd864ba8' class='xr-section-summary-in' type='checkbox'  ><label for='section-186365fa-95bf-40e7-8c8d-fe85bd864ba8' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-8cd61e15-73ac-4d05-8d3e-ebca69ec339e' class='xr-index-data-in' type='checkbox'/><label for='index-8cd61e15-73ac-4d05-8d3e-ebca69ec339e' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1993-03-13 18:00:00&#x27;, &#x27;1993-03-13 19:00:00&#x27;], dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>longitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-36c9efbd-577d-47bf-9562-bea760a2ff68' class='xr-index-data-in' type='checkbox'/><label for='index-36c9efbd-577d-47bf-9562-bea760a2ff68' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.25,    0.5,   0.75,    1.0,   1.25,    1.5,   1.75,    2.0,\n         2.25,\n       ...\n       357.75,  358.0, 358.25,  358.5, 358.75,  359.0, 359.25,  359.5, 359.75,\n        360.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;longitude&#x27;, length=1441))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>latitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-3539e999-753f-4fb4-aa1f-a899e2e5f92d' class='xr-index-data-in' type='checkbox'/><label for='index-3539e999-753f-4fb4-aa1f-a899e2e5f92d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ -90.0, -89.75,  -89.5, -89.25,  -89.0, -88.75,  -88.5, -88.25,  -88.0,\n       -87.75,\n       ...\n        87.75,   88.0,  88.25,   88.5,  88.75,   89.0,  89.25,   89.5,  89.75,\n         90.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;latitude&#x27;, length=721))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-683a0ef9-fcb9-488f-8bfe-141c26d401e1' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-683a0ef9-fcb9-488f-8bfe-141c26d401e1' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"vylgWJEIgr"}],"key":"JFQadcbdeG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Select only the first time in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zbgJTOhnp9"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"V1CfWlI2FG"},{"type":"text","value":" and convert to hPa.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QSVcfAPTpj"}],"key":"MAC6jAb2d8"}],"key":"ShBaXUA5Xr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slp = da.isel(time=0)/100.","key":"N1IHNLwnI3"},{"type":"output","id":"ayx-lTYM6XI_pcccklQeZ","data":[],"key":"jkAkwj2Xbq"}],"key":"pcY9jk8cV5"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get a quick look at the grid to ensure all looks good.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P2K6NMsM0v"}],"key":"Np7j5TYndX"}],"key":"fLGIBKu1Jc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slp.plot(x='longitude', y='latitude', cmap='viridis', size=7, aspect=2, add_colorbar=True, robust=True)","key":"vDtOOD3woG"},{"type":"output","id":"8Mf2FNOYZu5LpySNttgrp","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1400x700 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"47c184a7320c9432b40f4e767072d998","path":"/ERA5_interactive-cookbook/build/47c184a7320c9432b40f4e767072d998.png"}}}],"key":"clOfNnsaau"}],"key":"r8noNd8fcK"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the data on a map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vFgTEhK3dH"}],"identifier":"plot-the-data-on-a-map","label":"Plot the data on a map","html_id":"plot-the-data-on-a-map","implicit":true,"key":"K5UqEnLbHv"}],"key":"g7TIqmqj89"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"nx,ny = np.meshgrid(longitude,latitude,indexing='ij')","key":"x5r5BfIEAQ"},{"type":"output","id":"qJZPD4Ndc3FzIUhyr2YVe","data":[],"key":"MB0Jo6PKff"}],"key":"nQwGm6h3ST"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"timeStr = '1993-03-13T18:00'\n\ntl1 = f'ERA-5 SLP (hPa)'\ntl2 = f'Valid at: {timeStr}'\ntitle_line = (tl1 + '\\n' + tl2 + '\\n') # concatenate the two strings and add return characters","key":"ObwSffTNOg"},{"type":"output","id":"7iwk0kJKJ5uGM4Yn_p79K","data":[],"key":"jD84V50DP7"}],"key":"vsnXKpIF10"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cint = np.arange(900,1080,4)","key":"IXzfDB3Dkm"},{"type":"output","id":"CUd7gpyDxF-8l8e1am2xQ","data":[],"key":"G9oNN2fo69"}],"key":"KuAeKo9505"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"res = '50m'\nfig = plt.figure(figsize=(15,10))\nax = plt.subplot(1,1,1,projection=ccrs.PlateCarree())\n#ax.set_extent ([lonW+constrainLon,lonE-constrainLon,latS+constrainLat,latN-constrainLat])\nax.add_feature(cfeature.COASTLINE.with_scale(res))\nax.add_feature(cfeature.STATES.with_scale(res))\n#CL = slp.cf.plot.contour(levels=cint,linewidths=1.25,colors='green')\nCL = ax.contour(nx, ny, slp, transform=ccrs.PlateCarree(),levels=cint, linewidths=1.25, colors='green')\nax.clabel(CL, inline_spacing=0.2, fontsize=11, fmt='%.0f')\n\ntitle = plt.title(title_line,fontsize=16)\n","key":"tkTcG6reCN"},{"type":"output","id":"Lbg3dvsw7BFezrVGpSfDR","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/ERA5_interactive/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_physical/ne_50m_coastline.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/ERA5_interactive/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_cultural/ne_50m_admin_1_states_provinces_lakes.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1000 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"8685109eed01944583bd54e71725a307","path":"/ERA5_interactive-cookbook/build/8685109eed01944583bd54e71725a307.png"}}}],"key":"djPYUSpGM3"}],"key":"XcdpUyQyU4"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g8bbozMNZp"}],"key":"CCYPdhXwsx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"L3seEeN73k"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"GKMJpzAEi0"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this notebook, we have accessed one of the ARCO ERA-5 datasets, regridded from the ECMWF native spectral to cartesian lat-lon coordinates, and created a map of sea-level pressure for a particular date and time.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Nza95gT67e"}],"key":"TPJ8XLJHS3"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"What’s next?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vi3H3j79Dw"}],"identifier":"whats-next","label":"What’s next?","html_id":"whats-next","implicit":true,"key":"B0tFsNYG9x"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In the next notebook, we will leverage the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"y2nnDnvPwy"},{"type":"link","url":"https://holoviz.org","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Holoviz ecosystem","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"yEoT0yIyZB"}],"urlSource":"https://holoviz.org","key":"Mhyfcf9NiZ"},{"type":"text","value":" and create interactive visualizations of the ARCO ERA-5 datasets.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ETsAVCU5XZ"}],"key":"Lqj2263waJ"}],"key":"wxoVUBEIrG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and references","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w9Y3NTf91M"}],"identifier":"resources-and-references","label":"Resources and references","html_id":"resources-and-references","implicit":true,"key":"bBL1Yl1HJD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This notebook follows the general workflow as used in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"t0dUX6LX3X"},{"type":"link","url":"https://github.com/google-research/arco-era5/blob/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Google Research ARCO-ERA5 Surface Reanlysis Walkthrough notebook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rx7jj9ZPZS"}],"urlSource":"https://github.com/google-research/arco-era5/blob/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb","data":{"kind":"file","org":"google-research","repo":"arco-era5","reference":"main","file":"docs/0-Surface-Reanalysis-Walkthrough.ipynb","raw":"https://raw.githubusercontent.com/google-research/arco-era5/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb"},"internal":false,"protocol":"github","key":"Q65DN83AY1"}],"key":"cZq2p0xYvy"}],"key":"mZlaiHguuq"}],"key":"bGonJ3Tces"}],"key":"rbGHpaHAYl"},"references":{"cite":{"order":["Stern_2022"],"data":{"Stern_2022":{"label":"Stern_2022","enumerator":"1","doi":"10.3389/fclim.2021.782909","html":"Stern, C., Abernathey, R., Hamman, J., Wegener, R., Lepore, C., Harkins, S., & Merose, A. (2022). Pangeo Forge: Crowdsourcing Analysis-Ready, Cloud Optimized Data Production. <i>Frontiers in Climate</i>, <i>3</i>. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.3389/fclim.2021.782909\">10.3389/fclim.2021.782909</a>","url":"https://doi.org/10.3389/fclim.2021.782909"}}}},"footer":{"navigation":{"prev":{"title":"How to Cite This Cookbook","url":"/notebooks/how-to-cite","group":"Preamble"},"next":{"title":"Interactive Visualization using GeoViews","url":"/notebooks/interactivevisualization","group":"Visualization Notebooks"}}},"domain":"http://localhost:3000"}