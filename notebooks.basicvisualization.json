{"version":2,"kind":"Notebook","sha256":"ca4fa5593c663d663e711a8b727b25bf956c02a39dabf9ce67288d2039fa3d91","slug":"notebooks.basicvisualization","location":"/notebooks/01BasicVisualization.ipynb","dependencies":[],"frontmatter":{"title":"Basic Visualization using matplotlib and Cartopy","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/ERA5_interactive-cookbook","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/ERA5_interactive-cookbook/blob/main/notebooks/01BasicVisualization.ipynb","thumbnail":"/ERA5_interactive-cookbook/build/ProjectPythia_Logo_F-785d41edf00e3ea66f9a6bc4265c8463.svg","exports":[{"format":"ipynb","filename":"01BasicVisualization.ipynb","url":"/ERA5_interactive-cookbook/build/01BasicVisualization-f4949c7d89c23c67122df7c2a75f3206.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"image","url":"/ERA5_interactive-cookbook/build/ProjectPythia_Logo_F-785d41edf00e3ea66f9a6bc4265c8463.svg","alt":"Project Pythia Logo","width":250,"key":"jLx1kAulrD","urlSource":"images/ProjectPythia_Logo_Final-01-Blue.svg"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JtO8bL15oL"},{"type":"image","style":{"width":"250px"},"url":"/ERA5_interactive-cookbook/build/ecmwf-0bb42e293274dd30d4680923ae2149f7.png","alt":"ECMWF logo","key":"NCSvOOpUwy","urlSource":"images/ecmwf.png"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QtHE7FGrCP"},{"type":"image","style":{"width":"250px"},"url":"/ERA5_interactive-cookbook/build/googleresearch-eddd6bb8117388b815774f54147ca80c.png","alt":"Google logo","key":"MGkj9sqjhb","urlSource":"images/googleresearch.png"}],"key":"REr0gRi5LW"}],"key":"dM5tLdjvK7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Basic Visualization using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FAB21Zyb5f"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YJ4Mg4ivqa"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D6S0nI6D9m"},{"type":"inlineCode","value":"Cartopy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NpaCE1DQ2B"}],"identifier":"basic-visualization-using-matplotlib-and-cartopy","label":"Basic Visualization using matplotlib and Cartopy","html_id":"basic-visualization-using-matplotlib-and-cartopy","implicit":true,"key":"ObhkvDyNLq"}],"key":"uoZGL3Hegz"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uo6vezR06J"}],"key":"ptIBY9bShK"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BBc8rsSYWw"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"FlNpbK2uba"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"A team at ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zFg3jcSQbb"},{"type":"link","url":"https://research.google/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Google Research & Cloud","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LkqoMBFEbS"}],"urlSource":"https://research.google/","key":"JUj1i51uUV"},{"type":"text","value":" are making parts of the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"emJ2dyA7Ex"},{"type":"link","url":"https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ECMWF Reanalysis version 5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"B0l2VGRhkp"}],"urlSource":"https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5","key":"cozkX3gsOn"},{"type":"text","value":" (aka ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"GPrSUDD8Gq"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ERA-5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cfvsV8OqFp"}],"key":"CDHqH5yuYG"},{"type":"text","value":") accessible in a ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ZJH7KuUlT4"},{"type":"cite","url":"https://www.frontiersin.org/articles/10.3389/fclim.2021.782909/full","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Analysis Ready, Cloud Optimized","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"CNsLsExqZ2"}],"kind":"narrative","label":"Stern_2022","identifier":"https://www.frontiersin.org/articles/10.3389/fclim.2021.782909/full","enumerator":"1","key":"rG85zTzk0a"},{"type":"text","value":" (aka ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"m2junnzj5r"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ARCO","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zSq2jZKtRE"}],"key":"gxizyxvBUj"},{"type":"text","value":") format.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"NyTI5W0jBN"}],"key":"tMgDeiZYDX"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this notebook, we will do the following:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gThCb2kuDB"}],"key":"POHE63Y41S"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Access the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"POBJDNqsOP"},{"type":"link","url":"https://github.com/google-research/arco-era5","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"ERA-5 ARCO","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lLXK1Sbcn9"}],"urlSource":"https://github.com/google-research/arco-era5","error":true,"key":"lc9bkKVwkp"},{"type":"text","value":" catalog","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ujNt1QYE1G"}],"key":"tWSybE9pIJ"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Select a particular dataset and variable from the catalog","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"UOpPTMuZkO"}],"key":"hLUYAIjOVc"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Convert the data from Gaussian to Cartesian coordinates","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NKA80Len3x"}],"key":"eRpoZx08Hl"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Plot a map of sea-level pressure at a specific date and time using Matplotlib and Cartopy.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"JuJf0N3rgZ"}],"key":"O7K03iB9Wo"}],"key":"RoaLfC9NGV"}],"key":"vXhiAE0nvE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R6KFrYAxjj"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"Pknj8OFl7s"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"myOBnOQY1U"}],"key":"fmaMTaSOrT"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PjRbOgyWrV"}],"key":"KIfmaOhhU8"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hOmeyC7bbY"}],"key":"LBaHsDG2xT"}],"key":"tbko7L89BV"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/cartopy/cartopy.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Cartopy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nHfrRf2c7g"}],"urlSource":"https://foundations.projectpythia.org/core/cartopy/cartopy.html","key":"teVbfhkCa6"}],"key":"P6i7I17t3J"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xLE4zLhp03"}],"key":"wz5NgnMyPB"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[],"key":"XIr4mfNwL2"}],"key":"u7sMI3eP0h"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/xarray","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Xarray","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"CySC7lwOa8"}],"urlSource":"https://foundations.projectpythia.org/core/xarray","key":"Dqr8o3F4dX"}],"key":"hCTVr0Jl9W"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"otJUEPArLL"}],"key":"cSByuWYjT7"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[],"key":"Hf3S0bW6eG"}],"key":"Q3l9Op4NZB"}],"key":"YO2dhjLxTM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"FVAknH2rF6"}],"key":"aXJMA3oFwl"},{"type":"text","value":": 30 minutes","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"c3mGID007f"}],"key":"qKpd4Vg3Ro"}],"key":"nEfnArMVjI"}],"key":"q5PsIGAUxB"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VsUBZr9Q1X"}],"key":"iNrg099sot"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JM3IslGcAC"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"eDnUyZqZiF"}],"key":"ZTn6hfOeXM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import fsspec\nimport xarray as xr\nimport matplotlib.pyplot as plt\nimport cartopy.crs as ccrs\nimport cartopy.feature as cfeature\nimport scipy.spatial\nimport numpy as np\nimport cf_xarray as cfxr","key":"xVvbgBPy3v"},{"type":"output","id":"5XXSUG5iC7Sj-Nzqi4gaS","data":[],"key":"hP1yjV6rgN"}],"key":"wjAkP6aafz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access the ARCO ERA-5 catalog on Google Cloud","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"juIqSaoXND"}],"identifier":"access-the-arco-era-5-catalog-on-google-cloud","label":"Access the ARCO ERA-5 catalog on Google Cloud","html_id":"access-the-arco-era-5-catalog-on-google-cloud","implicit":true,"key":"kwIx7YbgvC"}],"key":"UPHL8iOWH4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Test bucket access with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KoPzp8ywlh"},{"type":"inlineCode","value":"fsspec","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gRnveRLNxW"}],"key":"orhUeBx9MS"}],"key":"uttn4uYZeM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fs = fsspec.filesystem('gs')\nfs.ls('gs://gcp-public-data-arco-era5/co')","key":"q20m1n7TlQ"},{"type":"output","id":"Xjyo7O3yUONoAvb4_gPU8","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"['gcp-public-data-arco-era5/co/model-level-moisture.zarr',\n 'gcp-public-data-arco-era5/co/model-level-moisture.zarr-v2',\n 'gcp-public-data-arco-era5/co/model-level-wind.zarr',\n 'gcp-public-data-arco-era5/co/model-level-wind.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-forecast.zarr',\n 'gcp-public-data-arco-era5/co/single-level-forecast.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-reanalysis.zarr',\n 'gcp-public-data-arco-era5/co/single-level-reanalysis.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-surface.zarr',\n 'gcp-public-data-arco-era5/co/single-level-surface.zarr-v2']","content_type":"text/plain"}}}],"key":"l3IpiWaE2s"}],"key":"XmLwWOmwk0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s open the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZojinUtLyg"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"single-level-reanalysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NRxdrs44XT"}],"key":"KY2YjdjtkZ"},{"type":"text","value":" Zarr file.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"b6rF8vkaAR"}],"key":"LoV4yWhQMw"}],"key":"alSFOsGLOi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"reanalysis = xr.open_zarr(\n    'gs://gcp-public-data-arco-era5/co/single-level-reanalysis.zarr', \n    chunks={'time': 48},\n    consolidated=True,\n)","key":"AFI58cHy4i"},{"type":"output","id":"BaNv2krRV3ByXo95dkqFs","data":[{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_3850/165558829.py:1: FutureWarning: In a future version, xarray will not decode the variable 'step' into a timedelta64 dtype based on the presence of a timedelta-like 'units' attribute by default. Instead it will rely on the presence of a timedelta64 'dtype' attribute, which is now xarray's default way of encoding timedelta64 values.\nTo continue decoding into a timedelta64 dtype, either set `decode_timedelta=True` when opening this dataset, or add the attribute `dtype='timedelta64[ns]'` to this variable on disk.\nTo opt-in to future behavior, set `decode_timedelta=False`.\n  reanalysis = xr.open_zarr(\n"}],"key":"arbjKZ4PFM"}],"key":"r9OeevKz9L"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(f'size: {reanalysis.nbytes / (1024 ** 4)} TB')","key":"jPSaGCZEKR"},{"type":"output","id":"PV4eA76kBPtRDGRuivIUs","data":[{"output_type":"stream","name":"stdout","text":"size: 28.02835009436967 TB\n"}],"key":"PMpuIJ9xUV"}],"key":"sJb9pPbSvN"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"That’s ... a big file! But Xarray is just ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MYoILYUlKq"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"lazy loading","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dW1ANb5X89"}],"key":"HFGBotRuU9"},{"type":"text","value":" the data. We can access the dataset’s metadata:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GLQwME4Yt8"}],"key":"R1eKo9sYrc"}],"key":"VoicOFdzqh"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"reanalysis","key":"W8kV4CgqdX"},{"type":"output","id":"47ODsG1ibCPBE68c6qBuW","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 31TB\nDimensions:              (time: 374016, values: 542080)\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    latitude             (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    longitude            (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nDimensions without coordinates: values\nData variables: (12/38)\n    cape                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    d2m                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    hcc                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl1                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl2                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl3                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    ...                   ...\n    tsn                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    u10                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    u100                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    v10                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    v100                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    z                    (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\nAttributes:\n    Conventions:               CF-1.7\n    GRIB_centre:               ecmf\n    GRIB_centreDescription:    European Centre for Medium-Range Weather Forec...\n    GRIB_edition:              1\n    GRIB_subCentre:            0\n    history:                   2022-09-23T18:56 GRIB to CDM+CF via cfgrib-0.9...\n    institution:               European Centre for Medium-Range Weather Forec...\n    pangeo-forge:inputs_hash:  5f4378143e9f42402424280b63472752da3aa79179b53b...\n    pangeo-forge:recipe_hash:  0c3415923e347ce9dac9dc5c6d209525f4d45d799bd25b...\n    pangeo-forge:version:      0.9.1","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"614d46dd9a5c20a665ae5900cf7fd4a7","path":"/ERA5_interactive-cookbook/build/614d46dd9a5c20a665ae5900cf7fd4a7.html"}}}],"key":"fEutqga1RI"}],"key":"wquG273nBM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s look at the mean sea-level pressure variable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dMmRBV7b2r"}],"key":"ewnBGEnwgN"}],"key":"bCoawqvsRw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"msl = reanalysis.msl\nmsl","key":"nc58PopYpt"},{"type":"output","id":"eYYBx2BFtAH43fScXz4sL","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 374016, values: 542080)> Size: 811GB\ndask.array<open_dataset-msl, shape=(374016, 542080), dtype=float32, chunksize=(48, 542080), chunktype=numpy.ndarray>\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    latitude             (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    longitude            (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nDimensions without coordinates: values\nAttributes: (12/25)\n    GRIB_N:                                   320\n    GRIB_NV:                                  0\n    GRIB_cfName:                              air_pressure_at_mean_sea_level\n    GRIB_cfVarName:                           msl\n    GRIB_dataType:                            an\n    GRIB_gridDefinitionDescription:           Gaussian Latitude/Longitude Grid\n    ...                                       ...\n    GRIB_totalNumber:                         0\n    GRIB_typeOfLevel:                         surface\n    GRIB_units:                               Pa\n    long_name:                                Mean sea level pressure\n    standard_name:                            air_pressure_at_mean_sea_level\n    units:                                    Pa","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"1b75911daf29434998af36087d97f6d1","path":"/ERA5_interactive-cookbook/build/1b75911daf29434998af36087d97f6d1.html"}}}],"key":"IPQLCJ2JYP"}],"key":"HQ1UN7KVwD"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There are two dimensions to this variable ... ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Aap62rubih"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DzP65ZRgyI"}],"key":"niPAfWL2cn"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MkLpvgv25q"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fnG7zKc0xN"}],"key":"S1JMXND7YQ"},{"type":"text","value":". The former is straightforward:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e9FCAcmf9H"}],"key":"kQKoQGm4tl"}],"key":"lKHy3VcKlb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"msl.time","key":"eboOOJi9IL"},{"type":"output","id":"o2tpqhxeWvbuglNBJxgh_","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'time' (time: 374016)> Size: 3MB\narray(['1979-01-01T00:00:00.000000000', '1979-01-01T01:00:00.000000000',\n       '1979-01-01T02:00:00.000000000', ..., '2021-08-31T21:00:00.000000000',\n       '2021-08-31T22:00:00.000000000', '2021-08-31T23:00:00.000000000'],\n      shape=(374016,), dtype='datetime64[ns]')\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nAttributes:\n    long_name:      initial time of forecast\n    standard_name:  forecast_reference_time","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;time&#x27; (time: 374016)&gt; Size: 3MB\narray([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;\nAttributes:\n    long_name:      initial time of forecast\n    standard_name:  forecast_reference_time</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'time'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 374016</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-732d17e3-6606-4269-9f39-13255f71b2fd' class='xr-array-in' type='checkbox' checked><label for='section-732d17e3-6606-4269-9f39-13255f71b2fd' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>1979-01-01 1979-01-01T01:00:00 ... 2021-08-31T23:00:00</span></div><div class='xr-array-data'><pre>array([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></div></li><li class='xr-section-item'><input id='section-4ca4ab8c-71ec-4e52-8601-692ac7650d79' class='xr-section-summary-in' type='checkbox'  checked><label for='section-4ca4ab8c-71ec-4e52-8601-692ac7650d79' class='xr-section-summary' >Coordinates: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>depthBelowLandLayer</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-a779a36f-bd04-473a-9124-5d2ca82e849f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a779a36f-bd04-473a-9124-5d2ca82e849f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e182d961-4d88-4992-afed-82ecaf27151a' class='xr-var-data-in' type='checkbox'><label for='data-e182d961-4d88-4992-afed-82ecaf27151a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>soil depth</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>standard_name :</span></dt><dd>depth</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>entireAtmosphere</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-e73c58c2-760b-470f-92bd-ef9f80176974' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e73c58c2-760b-470f-92bd-ef9f80176974' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ad5cc4a6-a0fb-4a81-94a9-d575112522f9' class='xr-var-data-in' type='checkbox'><label for='data-ad5cc4a6-a0fb-4a81-94a9-d575112522f9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>original GRIB coordinate for key: level(entireAtmosphere)</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-b4a64b2d-15f5-4366-84d4-fdd6c205ecfa' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b4a64b2d-15f5-4366-84d4-fdd6c205ecfa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-43b333a3-5543-4b5e-aa1a-a4e8001f45c2' class='xr-var-data-in' type='checkbox'><label for='data-43b333a3-5543-4b5e-aa1a-a4e8001f45c2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>ensemble member numerical id</dd><dt><span>standard_name :</span></dt><dd>realization</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=int64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>step</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-ed58df0f-37ca-40da-94ad-b29c6f20e2c5' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ed58df0f-37ca-40da-94ad-b29c6f20e2c5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-422613b3-7a6d-486b-b9fc-94d81a66f231' class='xr-var-data-in' type='checkbox'><label for='data-422613b3-7a6d-486b-b9fc-94d81a66f231' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time since forecast_reference_time</dd><dt><span>standard_name :</span></dt><dd>forecast_period</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=timedelta64[ns]]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>surface</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-56641cb8-d73a-43af-80b8-ab4f5bbee691' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-56641cb8-d73a-43af-80b8-ab4f5bbee691' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-39430b58-ff7c-4bca-bf66-d99d740a4454' class='xr-var-data-in' type='checkbox'><label for='data-39430b58-ff7c-4bca-bf66-d99d740a4454' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>original GRIB coordinate for key: level(surface)</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1979-01-01 ... 2021-08-31T23:00:00</div><input id='attrs-04b5256b-6744-48a3-99cd-8cc4537e6119' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-04b5256b-6744-48a3-99cd-8cc4537e6119' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-720e04cf-89ee-4e3c-b91b-350e2feb8d5d' class='xr-var-data-in' type='checkbox'><label for='data-720e04cf-89ee-4e3c-b91b-350e2feb8d5d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>initial time of forecast</dd><dt><span>standard_name :</span></dt><dd>forecast_reference_time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>valid_time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-f0000cff-fa39-45fe-b8e8-6a7e52c7bf5c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f0000cff-fa39-45fe-b8e8-6a7e52c7bf5c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b36a36cf-46de-433b-9bb5-a96ae839492a' class='xr-var-data-in' type='checkbox'><label for='data-b36a36cf-46de-433b-9bb5-a96ae839492a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd><dt><span>standard_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 2.85 MiB </td>\n                        <td> 384 B </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (374016,) </td>\n                        <td> (48,) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 7792 chunks in 2 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> datetime64[ns] numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"170\" height=\"75\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"120\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"0\" y1=\"25\" x2=\"120\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"25\" style=\"stroke-width:2\" />\n  <line x1=\"6\" y1=\"0\" x2=\"6\" y2=\"25\" />\n  <line x1=\"12\" y1=\"0\" x2=\"12\" y2=\"25\" />\n  <line x1=\"18\" y1=\"0\" x2=\"18\" y2=\"25\" />\n  <line x1=\"25\" y1=\"0\" x2=\"25\" y2=\"25\" />\n  <line x1=\"31\" y1=\"0\" x2=\"31\" y2=\"25\" />\n  <line x1=\"37\" y1=\"0\" x2=\"37\" y2=\"25\" />\n  <line x1=\"44\" y1=\"0\" x2=\"44\" y2=\"25\" />\n  <line x1=\"50\" y1=\"0\" x2=\"50\" y2=\"25\" />\n  <line x1=\"56\" y1=\"0\" x2=\"56\" y2=\"25\" />\n  <line x1=\"63\" y1=\"0\" x2=\"63\" y2=\"25\" />\n  <line x1=\"69\" y1=\"0\" x2=\"69\" y2=\"25\" />\n  <line x1=\"75\" y1=\"0\" x2=\"75\" y2=\"25\" />\n  <line x1=\"82\" y1=\"0\" x2=\"82\" y2=\"25\" />\n  <line x1=\"88\" y1=\"0\" x2=\"88\" y2=\"25\" />\n  <line x1=\"94\" y1=\"0\" x2=\"94\" y2=\"25\" />\n  <line x1=\"101\" y1=\"0\" x2=\"101\" y2=\"25\" />\n  <line x1=\"107\" y1=\"0\" x2=\"107\" y2=\"25\" />\n  <line x1=\"113\" y1=\"0\" x2=\"113\" y2=\"25\" />\n  <line x1=\"120\" y1=\"0\" x2=\"120\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485\" style=\"fill:#8B4903A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"60.000000\" y=\"45.412617\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >374016</text>\n  <text x=\"140.000000\" y=\"12.706308\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(0,140.000000,12.706308)\">1</text>\n</svg>\n        </td>\n    </tr>\n</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-571f6729-9c14-4477-91cb-e9c1f9a8f7ab' class='xr-section-summary-in' type='checkbox'  ><label for='section-571f6729-9c14-4477-91cb-e9c1f9a8f7ab' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-8a3a3b42-d609-4912-9668-821386b7e024' class='xr-index-data-in' type='checkbox'/><label for='index-8a3a3b42-d609-4912-9668-821386b7e024' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1979-01-01 00:00:00&#x27;, &#x27;1979-01-01 01:00:00&#x27;,\n               &#x27;1979-01-01 02:00:00&#x27;, &#x27;1979-01-01 03:00:00&#x27;,\n               &#x27;1979-01-01 04:00:00&#x27;, &#x27;1979-01-01 05:00:00&#x27;,\n               &#x27;1979-01-01 06:00:00&#x27;, &#x27;1979-01-01 07:00:00&#x27;,\n               &#x27;1979-01-01 08:00:00&#x27;, &#x27;1979-01-01 09:00:00&#x27;,\n               ...\n               &#x27;2021-08-31 14:00:00&#x27;, &#x27;2021-08-31 15:00:00&#x27;,\n               &#x27;2021-08-31 16:00:00&#x27;, &#x27;2021-08-31 17:00:00&#x27;,\n               &#x27;2021-08-31 18:00:00&#x27;, &#x27;2021-08-31 19:00:00&#x27;,\n               &#x27;2021-08-31 20:00:00&#x27;, &#x27;2021-08-31 21:00:00&#x27;,\n               &#x27;2021-08-31 22:00:00&#x27;, &#x27;2021-08-31 23:00:00&#x27;],\n              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=374016, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a732887a-44a6-433a-912b-7d884ad6fc7e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a732887a-44a6-433a-912b-7d884ad6fc7e' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>initial time of forecast</dd><dt><span>standard_name :</span></dt><dd>forecast_reference_time</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"xVCdJyduP6"}],"key":"qdMlLlLhTF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The time resolution is hourly, commencing at 0000 UTC 1 January 1979 and running through 2300 UTC 31 August 2021.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UVw5ekPYVz"}],"key":"c1a5O5c04i"}],"key":"jtwXYhgsGc"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The second dimension, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e6TVqo5EIk"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rhMldXKlmf"}],"key":"fBBcho9ZHM"},{"type":"text","value":", represents the actual data values. In order to usefully visualize and/or analyze it, we will need to regrid it onto a standard cartesian (in this case, latitude-longitude) grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Acjnz3oNo4"}],"key":"aanCwPwust"}],"key":"LeSlBfmwNp"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"admonition alert alert-danger","children":[{"type":"paragraph","children":[{"type":"text","value":"Danger!","key":"r6OdaweCfP"}],"key":"YxdFlZosTv"},{"type":"text","value":"It might be tempting to run the code cell ","key":"vSfzkIbYPL"},{"type":"inlineCode","value":"msl.values","key":"iaKiv2Hw5K"},{"type":"text","value":" here, but doing so will force all the data to be actively read into memory! Since this is a very large dataset, we definitely don't want to do that!","key":"BUdKxED6qo"}],"key":"pG8Jlk5Kdu"}],"key":"GtzCS6Mqrb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regrid to cartesian coordinates","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zh42e1dlpY"}],"identifier":"regrid-to-cartesian-coordinates","label":"Regrid to cartesian coordinates","html_id":"regrid-to-cartesian-coordinates","implicit":true,"key":"busCRUvqtx"}],"key":"TLIjVo8LTD"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"These reanalyses are in their native, Guassian coordinates. We will define and use several functions to convert them to a lat-lon grid, using several functions described in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IOGsgwOePN"},{"type":"link","url":"https://github.com/google-research/arco-era5/tree/main/docs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ARCO ERA-5 GCP example notebooks","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iW2VWWgfRH"}],"urlSource":"https://github.com/google-research/arco-era5/tree/main/docs","error":true,"key":"ho07g28HZ8"}],"key":"u1fOUfNoJ9"}],"key":"OtGNf3zTGz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def mirror_point_at_360(ds):\n  extra_point = (\n      ds.where(ds.longitude == 0, drop=True)\n      .assign_coords(longitude=lambda x: x.longitude + 360)\n  )\n  return xr.concat([ds, extra_point], dim='values')\n\ndef build_triangulation(x, y):\n  grid = np.stack([x, y], axis=1)\n  return scipy.spatial.Delaunay(grid)\n\ndef interpolate(data, tri, mesh):\n  indices = tri.find_simplex(mesh)\n  ndim = tri.transform.shape[-1]\n  T_inv = tri.transform[indices, :ndim, :]\n  r = tri.transform[indices, ndim, :]\n  c = np.einsum('...ij,...j', T_inv, mesh - r)\n  c = np.concatenate([c, 1 - c.sum(axis=-1, keepdims=True)], axis=-1)\n  result = np.einsum('...i,...i', data[:, tri.simplices[indices]], c)\n  return np.where(indices == -1, np.nan, result)","key":"BbmQlenplG"},{"type":"output","id":"3QkodFAdjGbr7Gq9bfY3T","data":[],"key":"F23HoGoMxe"}],"key":"WxLRMCjOfh"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Select a particular time range from the dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jw4MsLYB36"}],"key":"ZU0SBlRDxM"}],"key":"aPkEIM9q88"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds93 = msl.sel(time=slice('1993-03-13T18:00:00','1993-03-13T19:00:00')).compute().pipe(mirror_point_at_360)\nds93","key":"R5rYdCstY4"},{"type":"output","id":"_eiYe4H84hM2GwfqeKnKu","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 2, values: 542720)> Size: 4MB\narray([[101284.25, 101289.  , 101291.75, ..., 100017.5 , 100018.  ,\n        100000.5 ],\n       [101362.81, 101368.06, 101372.06, ..., 100015.81, 100012.06,\n         99996.81]], shape=(2, 542720), dtype=float32)\nCoordinates:\n    depthBelowLandLayer  float64 8B 100.0\n    entireAtmosphere     float64 8B 0.0\n    latitude             (values) float64 4MB 89.78 89.78 ... -89.51 -89.78\n    longitude            (values) float64 4MB 0.0 20.0 40.0 ... 360.0 360.0\n    number               int64 8B 0\n    step                 timedelta64[ns] 8B 00:00:00\n    surface              float64 8B 0.0\n  * time                 (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-0...\n    valid_time           (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-0...\nDimensions without coordinates: values\nAttributes: (12/25)\n    GRIB_N:                                   320\n    GRIB_NV:                                  0\n    GRIB_cfName:                              air_pressure_at_mean_sea_level\n    GRIB_cfVarName:                           msl\n    GRIB_dataType:                            an\n    GRIB_gridDefinitionDescription:           Gaussian Latitude/Longitude Grid\n    ...                                       ...\n    GRIB_totalNumber:                         0\n    GRIB_typeOfLevel:                         surface\n    GRIB_units:                               Pa\n    long_name:                                Mean sea level pressure\n    standard_name:                            air_pressure_at_mean_sea_level\n    units:                                    Pa","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"2f01ee78184bff6613a2f613edfa11f2","path":"/ERA5_interactive-cookbook/build/2f01ee78184bff6613a2f613edfa11f2.html"}}}],"key":"GtPJsnPkRG"}],"key":"fpMLq9CpHe"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regrid to a lat-lon grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cz6GvRVEiA"}],"key":"Re8p3cmweS"}],"key":"Fo69UDPC0P"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tri = build_triangulation(ds93.longitude, ds93.latitude)\n\nlongitude = np.linspace(0, 360, num=360*4+1)\nlatitude = np.linspace(-90, 90, num=180*4+1)\n\nmesh = np.stack(np.meshgrid(longitude, latitude, indexing='ij'), axis=-1)\n\ngrid_mesh = interpolate(ds93.values, tri, mesh)","key":"lRCuYw3Qlm"},{"type":"output","id":"L5XU5K00lSmqUzgcpK8DN","data":[],"key":"ekqPGzsO25"}],"key":"ZVzzxdlOWN"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Construct an Xarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H78nNnppNd"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J5SScWiagh"},{"type":"text","value":" from the regridded array.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sDSr86yb9p"}],"key":"oFrrU7vqeX"}],"key":"Ms9bkvdeuY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da = xr.DataArray(data=grid_mesh,\n                dims=[\"time\", \"longitude\", \"latitude\"],\n                coords=[('time', ds93.time.data), ('longitude', longitude), ('latitude', latitude)],\n                name='msl')","key":"Pp0UuiOMTN"},{"type":"output","id":"AJL2B2AKCrREqqTs7yjo7","data":[],"key":"msiEViVkV4"}],"key":"IiMET2kp57"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Add some metadata to the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wST7z0EdvS"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ns4efdPZjo"},{"type":"text","value":"’s coordinate variables.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kR8Qeeqw1E"}],"key":"qG5SqfpIQs"}],"key":"PabZztWi6l"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.longitude.attrs['long_name'] = 'longitude'\nda.longitude.attrs['short_name'] = 'lon'\nda.longitude.attrs['units'] = 'degrees_east'\nda.longitude.attrs['axis'] = 'X'","key":"yIjLoVK9Oy"},{"type":"output","id":"6mVewo-Rbq5SLFYRVOmT6","data":[],"key":"L6I0hEIhrw"}],"key":"y1dIydEYKE"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.latitude.attrs['long_name'] = 'latitude'\nda.latitude.attrs['short_name'] = 'lat'\nda.latitude.attrs['units'] = 'degrees_north'\nda.latitude.attrs['axis'] = 'Y'","key":"CquiJsWoZW"},{"type":"output","id":"7ZQ-spqXNOyJG1me-Ykkm","data":[],"key":"Db8q72p1PI"}],"key":"eZSdDgai0f"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.time.attrs['long_name'] = 'time'","key":"NL9v4qSKiI"},{"type":"output","id":"fRugeQHWUznhKEvzroCc2","data":[],"key":"hadUYOR9R3"}],"key":"se2LBmY85e"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da","key":"QO95FKjSZG"},{"type":"output","id":"ugMTgbXghtK5yUaEv_7Mp","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 2, longitude: 1441, latitude: 721)> Size: 17MB\narray([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))\nCoordinates:\n  * time       (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-03-13T19:00:00\n  * longitude  (longitude) float64 12kB 0.0 0.25 0.5 0.75 ... 359.5 359.8 360.0\n  * latitude   (latitude) float64 6kB -90.0 -89.75 -89.5 ... 89.5 89.75 90.0","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;msl&#x27; (time: 2, longitude: 1441, latitude: 721)&gt; Size: 17MB\narray([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))\nCoordinates:\n  * time       (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-03-13T19:00:00\n  * longitude  (longitude) float64 12kB 0.0 0.25 0.5 0.75 ... 359.5 359.8 360.0\n  * latitude   (latitude) float64 6kB -90.0 -89.75 -89.5 ... 89.5 89.75 90.0</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'msl'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 2</li><li><span class='xr-has-index'>longitude</span>: 1441</li><li><span class='xr-has-index'>latitude</span>: 721</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-b511b2dc-918d-46ce-bed6-5b161422dd87' class='xr-array-in' type='checkbox' checked><label for='section-b511b2dc-918d-46ce-bed6-5b161422dd87' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan 1e+05 1e+05 1e+05 1e+05 ... 1.014e+05 1.014e+05 1.014e+05 nan</span></div><div class='xr-array-data'><pre>array([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))</pre></div></div></li><li class='xr-section-item'><input id='section-90e6f710-a63d-4cf5-84d1-60fef993d9d3' class='xr-section-summary-in' type='checkbox'  checked><label for='section-90e6f710-a63d-4cf5-84d1-60fef993d9d3' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-03-13T18:00:00 1993-03-13T1...</div><input id='attrs-3b803858-a2cd-4f5b-8206-8c43d0ac87f6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3b803858-a2cd-4f5b-8206-8c43d0ac87f6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f714969a-2993-4455-9416-4a1158fe4341' class='xr-var-data-in' type='checkbox'><label for='data-f714969a-2993-4455-9416-4a1158fe4341' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1993-03-13T18:00:00.000000000&#x27;, &#x27;1993-03-13T19:00:00.000000000&#x27;],\n      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.25 0.5 ... 359.5 359.8 360.0</div><input id='attrs-d713c925-bd5c-4257-92e3-728651c6a3ed' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d713c925-bd5c-4257-92e3-728651c6a3ed' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a984baa7-1922-4ad9-9dfb-a25c360deb5b' class='xr-var-data-in' type='checkbox'><label for='data-a984baa7-1922-4ad9-9dfb-a25c360deb5b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>short_name :</span></dt><dd>lon</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.5000e-01, 5.0000e-01, ..., 3.5950e+02, 3.5975e+02,\n       3.6000e+02], shape=(1441,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-90.0 -89.75 -89.5 ... 89.75 90.0</div><input id='attrs-8f68bed8-9e13-4d93-a05f-2772ecbb4167' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8f68bed8-9e13-4d93-a05f-2772ecbb4167' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-94438347-98ae-4b46-b163-41e62d767778' class='xr-var-data-in' type='checkbox'><label for='data-94438347-98ae-4b46-b163-41e62d767778' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>short_name :</span></dt><dd>lat</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([-90.  , -89.75, -89.5 , ...,  89.5 ,  89.75,  90.  ], shape=(721,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-67b48bf5-1f02-4560-9446-0d7c2c0052bc' class='xr-section-summary-in' type='checkbox'  ><label for='section-67b48bf5-1f02-4560-9446-0d7c2c0052bc' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-0f4fa8c6-05a4-4724-9a77-9d941a9cb21d' class='xr-index-data-in' type='checkbox'/><label for='index-0f4fa8c6-05a4-4724-9a77-9d941a9cb21d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1993-03-13 18:00:00&#x27;, &#x27;1993-03-13 19:00:00&#x27;], dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>longitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-3c3e5911-0b10-4e4b-8e3f-f981e4b69877' class='xr-index-data-in' type='checkbox'/><label for='index-3c3e5911-0b10-4e4b-8e3f-f981e4b69877' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.25,    0.5,   0.75,    1.0,   1.25,    1.5,   1.75,    2.0,\n         2.25,\n       ...\n       357.75,  358.0, 358.25,  358.5, 358.75,  359.0, 359.25,  359.5, 359.75,\n        360.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;longitude&#x27;, length=1441))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>latitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-5f4edaf9-2150-43f1-8740-864551c37cf8' class='xr-index-data-in' type='checkbox'/><label for='index-5f4edaf9-2150-43f1-8740-864551c37cf8' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ -90.0, -89.75,  -89.5, -89.25,  -89.0, -88.75,  -88.5, -88.25,  -88.0,\n       -87.75,\n       ...\n        87.75,   88.0,  88.25,   88.5,  88.75,   89.0,  89.25,   89.5,  89.75,\n         90.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;latitude&#x27;, length=721))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-98f4db20-7649-4bec-80be-94440de965f5' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-98f4db20-7649-4bec-80be-94440de965f5' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"RE0l3nuL0p"}],"key":"hHBmdmU993"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Select only the first time in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yZ0IsU7QKA"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HiCjPyGWfK"},{"type":"text","value":" and convert to hPa.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iZDQu89sPy"}],"key":"jjTF7Fwiqg"}],"key":"oO7E3uKLpq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slp = da.isel(time=0)/100.","key":"sejZSDk7kK"},{"type":"output","id":"rKGgKTERI8_sVSlI0nlg5","data":[],"key":"FqTY5ngpo7"}],"key":"gENoPh1bap"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get a quick look at the grid to ensure all looks good.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ubFfoIyVBB"}],"key":"imaVW9wQAo"}],"key":"MCHYbBrMrv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slp.plot(x='longitude', y='latitude', cmap='viridis', size=7, aspect=2, add_colorbar=True, robust=True)","key":"BRXmyKle54"},{"type":"output","id":"En4gwkKvKaDmWXVwJS1Rs","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1400x700 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"47c184a7320c9432b40f4e767072d998","path":"/ERA5_interactive-cookbook/build/47c184a7320c9432b40f4e767072d998.png"}}}],"key":"MYzD4ibMjC"}],"key":"IHQdbmmzvC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the data on a map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UmOxRMcg5p"}],"identifier":"plot-the-data-on-a-map","label":"Plot the data on a map","html_id":"plot-the-data-on-a-map","implicit":true,"key":"EA2ZGSK8oO"}],"key":"V5t5SsOFt7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"nx,ny = np.meshgrid(longitude,latitude,indexing='ij')","key":"FMu5e8ruUY"},{"type":"output","id":"ZOpC4Ofjy25GDqyeNANlh","data":[],"key":"A18ybuYX9S"}],"key":"c55o6Ud5xH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"timeStr = '1993-03-13T18:00'\n\ntl1 = f'ERA-5 SLP (hPa)'\ntl2 = f'Valid at: {timeStr}'\ntitle_line = (tl1 + '\\n' + tl2 + '\\n') # concatenate the two strings and add return characters","key":"BeOhoglydG"},{"type":"output","id":"xi1u_OTXUV2NoMtcdUjDg","data":[],"key":"C3k63qn76N"}],"key":"r29T1W3Qvf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cint = np.arange(900,1080,4)","key":"fNWNcTDnEj"},{"type":"output","id":"1ozgJcABoCtFT0RYJ4hf-","data":[],"key":"CFH5kLiWXW"}],"key":"a8VNHjFH0I"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"res = '50m'\nfig = plt.figure(figsize=(15,10))\nax = plt.subplot(1,1,1,projection=ccrs.PlateCarree())\n#ax.set_extent ([lonW+constrainLon,lonE-constrainLon,latS+constrainLat,latN-constrainLat])\nax.add_feature(cfeature.COASTLINE.with_scale(res))\nax.add_feature(cfeature.STATES.with_scale(res))\n#CL = slp.cf.plot.contour(levels=cint,linewidths=1.25,colors='green')\nCL = ax.contour(nx, ny, slp, transform=ccrs.PlateCarree(),levels=cint, linewidths=1.25, colors='green')\nax.clabel(CL, inline_spacing=0.2, fontsize=11, fmt='%.0f')\n\ntitle = plt.title(title_line,fontsize=16)\n","key":"SZeuCE8HcZ"},{"type":"output","id":"gUjoanc2DCdLkqMWL21zl","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/ERA5_interactive/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_physical/ne_50m_coastline.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/ERA5_interactive/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_cultural/ne_50m_admin_1_states_provinces_lakes.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1000 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"8685109eed01944583bd54e71725a307","path":"/ERA5_interactive-cookbook/build/8685109eed01944583bd54e71725a307.png"}}}],"key":"lhPOn3nvUr"}],"key":"OHtyydJ0oo"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OfMSbnnTDm"}],"key":"v3jxsbqKA2"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ukrC5pnFgQ"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"GhBejgcfI4"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this notebook, we have accessed one of the ARCO ERA-5 datasets, regridded from the ECMWF native spectral to cartesian lat-lon coordinates, and created a map of sea-level pressure for a particular date and time.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"yQyh1aVIVh"}],"key":"vjv5Sb2dSO"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"What’s next?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EzutbXuJ2W"}],"identifier":"whats-next","label":"What’s next?","html_id":"whats-next","implicit":true,"key":"Z1R6VSVSYT"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In the next notebook, we will leverage the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gnGxPiqhbw"},{"type":"link","url":"https://holoviz.org","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Holoviz ecosystem","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"J8PvqUKsdw"}],"urlSource":"https://holoviz.org","key":"b2kNYQTyBr"},{"type":"text","value":" and create interactive visualizations of the ARCO ERA-5 datasets.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zAQWJIecdW"}],"key":"W7jG1iNbyM"}],"key":"brsejQbFYF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and references","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CeeKbS3WAE"}],"identifier":"resources-and-references","label":"Resources and references","html_id":"resources-and-references","implicit":true,"key":"mLMhvZVGPg"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This notebook follows the general workflow as used in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KXFsDgYmxC"},{"type":"link","url":"https://github.com/google-research/arco-era5/blob/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Google Research ARCO-ERA5 Surface Reanlysis Walkthrough notebook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QZQJrPqSmn"}],"urlSource":"https://github.com/google-research/arco-era5/blob/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb","data":{"kind":"file","org":"google-research","repo":"arco-era5","reference":"main","file":"docs/0-Surface-Reanalysis-Walkthrough.ipynb","raw":"https://raw.githubusercontent.com/google-research/arco-era5/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb"},"internal":false,"protocol":"github","key":"EbORvlLixW"}],"key":"vdMxfV47vm"}],"key":"NlOB1LCJv6"}],"key":"m6VimTaky1"}],"key":"jyep4m5Nx8"},"references":{"cite":{"order":["Stern_2022"],"data":{"Stern_2022":{"label":"Stern_2022","enumerator":"1","doi":"10.3389/fclim.2021.782909","html":"Stern, C., Abernathey, R., Hamman, J., Wegener, R., Lepore, C., Harkins, S., & Merose, A. (2022). Pangeo Forge: Crowdsourcing Analysis-Ready, Cloud Optimized Data Production. <i>Frontiers in Climate</i>, <i>3</i>. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.3389/fclim.2021.782909\">10.3389/fclim.2021.782909</a>","url":"https://doi.org/10.3389/fclim.2021.782909"}}}},"footer":{"navigation":{"prev":{"title":"How to Cite This Cookbook","url":"/notebooks/how-to-cite","group":"Preamble"},"next":{"title":"Interactive Visualization using GeoViews","url":"/notebooks/interactivevisualization","group":"Visualization Notebooks"}}},"domain":"http://localhost:3000"}