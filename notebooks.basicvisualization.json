{"version":2,"kind":"Notebook","sha256":"ca4fa5593c663d663e711a8b727b25bf956c02a39dabf9ce67288d2039fa3d91","slug":"notebooks.basicvisualization","location":"/notebooks/01BasicVisualization.ipynb","dependencies":[],"frontmatter":{"title":"Basic Visualization using matplotlib and Cartopy","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/ERA5_interactive-cookbook","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/ERA5_interactive-cookbook/blob/main/notebooks/01BasicVisualization.ipynb","thumbnail":"/ERA5_interactive-cookbook/build/ProjectPythia_Logo_F-d713185d23ecc82f01333f9fea9b47ec.svg","exports":[{"format":"ipynb","filename":"01BasicVisualization.ipynb","url":"/ERA5_interactive-cookbook/build/01BasicVisualization-416fc00feb0dcd84e2749100ceb80453.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"image","url":"/ERA5_interactive-cookbook/build/ProjectPythia_Logo_F-d713185d23ecc82f01333f9fea9b47ec.svg","alt":"Project Pythia Logo","width":250,"key":"FDUH3G2FfH","urlSource":"images/ProjectPythia_Logo_Final-01-Blue.svg"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ca8hVCeQuu"},{"type":"image","style":{"width":"250px"},"url":"/ERA5_interactive-cookbook/build/ecmwf-94a9229402b4453a9c2265ef3fddc656.png","alt":"ECMWF logo","key":"UeSeGNvpaS","urlSource":"images/ecmwf.png"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FX3Z2klS0D"},{"type":"image","style":{"width":"250px"},"url":"/ERA5_interactive-cookbook/build/googleresearch-92d66c91d61e2dca5cc0cb8c8221ec4c.png","alt":"Google logo","key":"Q74PU03X91","urlSource":"images/googleresearch.png"}],"key":"oxRwNY7gX7"}],"key":"dpXJYjX5c7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Basic Visualization using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"h3ozNUR61k"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fysXBEqto0"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FyLLTLhiyN"},{"type":"inlineCode","value":"Cartopy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Dn1aJcwTNC"}],"identifier":"basic-visualization-using-matplotlib-and-cartopy","label":"Basic Visualization using matplotlib and Cartopy","html_id":"basic-visualization-using-matplotlib-and-cartopy","implicit":true,"key":"GOM5v7QK49"}],"key":"E2JxC36F7k"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iQ55BDin04"}],"key":"ugs3bXGzx2"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"reTzLzoUsx"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"VOy2741npw"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"A team at ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Li7eG3xQq4"},{"type":"link","url":"https://research.google/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Google Research & Cloud","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pgdfNb8vVO"}],"urlSource":"https://research.google/","key":"OhCYKofJCG"},{"type":"text","value":" are making parts of the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"sB1JBZmz4E"},{"type":"link","url":"https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ECMWF Reanalysis version 5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AcCCqzAoa2"}],"urlSource":"https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5","key":"er6Pm8DOGP"},{"type":"text","value":" (aka ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"yS0YUsd1zI"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ERA-5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"gDxMdzFks9"}],"key":"pNbjVSpOsX"},{"type":"text","value":") accessible in a ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YNdTpogxKC"},{"type":"cite","url":"https://www.frontiersin.org/articles/10.3389/fclim.2021.782909/full","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Analysis Ready, Cloud Optimized","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QVLP0YGBO6"}],"kind":"narrative","label":"Stern_2022","identifier":"https://www.frontiersin.org/articles/10.3389/fclim.2021.782909/full","enumerator":"1","key":"WVGNKvHcCh"},{"type":"text","value":" (aka ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"KttkUTj5V4"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ARCO","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QxHAluGFnQ"}],"key":"lozjuq2Bah"},{"type":"text","value":") format.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"BYLrtIlNUn"}],"key":"dnJsFHswG3"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this notebook, we will do the following:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"TZBvk6Pddm"}],"key":"Nz8fV7t4Gi"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Access the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"hnUba3q018"},{"type":"link","url":"https://github.com/google-research/arco-era5","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"ERA-5 ARCO","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"SLkVYnQGee"}],"urlSource":"https://github.com/google-research/arco-era5","error":true,"key":"o1VDQqw7kk"},{"type":"text","value":" catalog","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"fo9drv777W"}],"key":"Hc7uGGraYt"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Select a particular dataset and variable from the catalog","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"gpQ2cgD1SF"}],"key":"zY84LOktvT"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Convert the data from Gaussian to Cartesian coordinates","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"T5MOSlrm37"}],"key":"T8NHj37Io6"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Plot a map of sea-level pressure at a specific date and time using Matplotlib and Cartopy.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"FFVJozhdb1"}],"key":"Ab9r2QZkwB"}],"key":"zP6guIvGAL"}],"key":"DVEPDOrC9C"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R6n7v6htvg"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"GtkXyDUApS"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TBAG1ce0CH"}],"key":"CZGpscT0jS"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iLyL64xre3"}],"key":"JVIFcVLmyJ"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TnnmUddjTV"}],"key":"AdmNF8mt81"}],"key":"fWi0EhwwtU"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/cartopy/cartopy.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Cartopy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"hj98ztGz1u"}],"urlSource":"https://foundations.projectpythia.org/core/cartopy/cartopy.html","key":"OuuATrsFC1"}],"key":"UZCDAJQigr"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"lOrBqeAyb5"}],"key":"NWkGbOxd8Y"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[],"key":"Er1X2nzwx0"}],"key":"Q3aep68kQ9"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/xarray","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Xarray","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"JYBKyRl1Xf"}],"urlSource":"https://foundations.projectpythia.org/core/xarray","key":"fnAXZVZyeo"}],"key":"bWBDxJUpL7"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Oav1cLM4mt"}],"key":"KVxvGIiPh7"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[],"key":"XglsioC3dS"}],"key":"TIITsjNKkl"}],"key":"GMsmAehnnz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ffQoanE3re"}],"key":"bLHURcan7F"},{"type":"text","value":": 30 minutes","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"rJ7be2qVMN"}],"key":"Ct6Os4IYMl"}],"key":"ZsgmRPKlST"}],"key":"edCqO05frm"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s5wT1keoDR"}],"key":"tRCdK0VeQ9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RWCZ3q4sQe"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"VSQe1RJh9C"}],"key":"dCtaoOmDej"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import fsspec\nimport xarray as xr\nimport matplotlib.pyplot as plt\nimport cartopy.crs as ccrs\nimport cartopy.feature as cfeature\nimport scipy.spatial\nimport numpy as np\nimport cf_xarray as cfxr","key":"XK78j73epI"},{"type":"output","id":"3mP-EbVBLtiQQi37emZ5y","data":[],"key":"UPg8LJcW5E"}],"key":"mpjMSm3lRd"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access the ARCO ERA-5 catalog on Google Cloud","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hWTLFcgeTW"}],"identifier":"access-the-arco-era-5-catalog-on-google-cloud","label":"Access the ARCO ERA-5 catalog on Google Cloud","html_id":"access-the-arco-era-5-catalog-on-google-cloud","implicit":true,"key":"kzzMXPEY9Q"}],"key":"sRIoDA2clY"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Test bucket access with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WZhmgmyVEk"},{"type":"inlineCode","value":"fsspec","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NXv4w6Pszp"}],"key":"qCYHQfOcAt"}],"key":"J8tKeokGso"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fs = fsspec.filesystem('gs')\nfs.ls('gs://gcp-public-data-arco-era5/co')","key":"c0r9njecQK"},{"type":"output","id":"D-T_QoqF1SOexvYINk_tH","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"['gcp-public-data-arco-era5/co/model-level-moisture.zarr',\n 'gcp-public-data-arco-era5/co/model-level-moisture.zarr-v2',\n 'gcp-public-data-arco-era5/co/model-level-wind.zarr',\n 'gcp-public-data-arco-era5/co/model-level-wind.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-forecast.zarr',\n 'gcp-public-data-arco-era5/co/single-level-forecast.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-reanalysis.zarr',\n 'gcp-public-data-arco-era5/co/single-level-reanalysis.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-surface.zarr',\n 'gcp-public-data-arco-era5/co/single-level-surface.zarr-v2']","content_type":"text/plain"}}}],"key":"NAl2XmzLQ0"}],"key":"CLp9j4rbJq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s open the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t22zSJ7r5u"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"single-level-reanalysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yEwoibjpLS"}],"key":"CJgjXKS0vC"},{"type":"text","value":" Zarr file.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m5hjdUCg4B"}],"key":"UGVPWJTwjy"}],"key":"M5mnb6tPv5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"reanalysis = xr.open_zarr(\n    'gs://gcp-public-data-arco-era5/co/single-level-reanalysis.zarr', \n    chunks={'time': 48},\n    consolidated=True,\n)","key":"Dy8xoFBqhI"},{"type":"output","id":"mlVYyYTwYH-ANqAGVlB5D","data":[{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_3851/165558829.py:1: FutureWarning: In a future version, xarray will not decode timedelta values based on the presence of a timedelta-like units attribute by default. Instead it will rely on the presence of a timedelta64 dtype attribute, which is now xarray's default way of encoding timedelta64 values. To continue decoding timedeltas based on the presence of a timedelta-like units attribute, users will need to explicitly opt-in by passing True or CFTimedeltaCoder(decode_via_units=True) to decode_timedelta. To silence this warning, set decode_timedelta to True, False, or a 'CFTimedeltaCoder' instance.\n  reanalysis = xr.open_zarr(\n"}],"key":"RkmUn5Bj29"}],"key":"LduYkL42lO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(f'size: {reanalysis.nbytes / (1024 ** 4)} TB')","key":"kn3xXGokC3"},{"type":"output","id":"YCMp-mSo0OBG5Cfhh01zT","data":[{"output_type":"stream","name":"stdout","text":"size: 28.02835009436967 TB\n"}],"key":"rdpg3qMr26"}],"key":"rWQcgXUtbY"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"That’s ... a big file! But Xarray is just ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ymrWMwUo4S"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"lazy loading","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KYjnQhTOfa"}],"key":"ayjDw32UQW"},{"type":"text","value":" the data. We can access the dataset’s metadata:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mmQfYqDNNF"}],"key":"rUqQqFE6Ok"}],"key":"q3IGB60Xma"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"reanalysis","key":"YXdOw1rd1i"},{"type":"output","id":"QV70CTmpcuEPs0bA4Gz1h","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 31TB\nDimensions:              (time: 374016, values: 542080)\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    latitude             (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    longitude            (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nDimensions without coordinates: values\nData variables: (12/38)\n    cape                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    d2m                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    hcc                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl1                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl2                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl3                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    ...                   ...\n    tsn                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    u10                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    u100                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    v10                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    v100                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    z                    (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\nAttributes:\n    Conventions:               CF-1.7\n    GRIB_centre:               ecmf\n    GRIB_centreDescription:    European Centre for Medium-Range Weather Forec...\n    GRIB_edition:              1\n    GRIB_subCentre:            0\n    history:                   2022-09-23T18:56 GRIB to CDM+CF via cfgrib-0.9...\n    institution:               European Centre for Medium-Range Weather Forec...\n    pangeo-forge:inputs_hash:  5f4378143e9f42402424280b63472752da3aa79179b53b...\n    pangeo-forge:recipe_hash:  0c3415923e347ce9dac9dc5c6d209525f4d45d799bd25b...\n    pangeo-forge:version:      0.9.1","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"51a250093b1174ac3b9563a07a1d1044","path":"/ERA5_interactive-cookbook/build/51a250093b1174ac3b9563a07a1d1044.html"}}}],"key":"D6QiTSCjOS"}],"key":"yc0e5IRfEZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s look at the mean sea-level pressure variable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yle6TjrM57"}],"key":"eObMY38YMa"}],"key":"peFVSIZWtC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"msl = reanalysis.msl\nmsl","key":"rQgVjDILBo"},{"type":"output","id":"_FUfGTR8Wnjf9YHbNjXnj","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 374016, values: 542080)> Size: 811GB\ndask.array<open_dataset-msl, shape=(374016, 542080), dtype=float32, chunksize=(48, 542080), chunktype=numpy.ndarray>\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    latitude             (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    longitude            (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nDimensions without coordinates: values\nAttributes: (12/25)\n    GRIB_N:                                   320\n    GRIB_NV:                                  0\n    GRIB_cfName:                              air_pressure_at_mean_sea_level\n    GRIB_cfVarName:                           msl\n    GRIB_dataType:                            an\n    GRIB_gridDefinitionDescription:           Gaussian Latitude/Longitude Grid\n    ...                                       ...\n    GRIB_totalNumber:                         0\n    GRIB_typeOfLevel:                         surface\n    GRIB_units:                               Pa\n    long_name:                                Mean sea level pressure\n    standard_name:                            air_pressure_at_mean_sea_level\n    units:                                    Pa","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"7dc193c6670bb7f3c2eec6b4f760b613","path":"/ERA5_interactive-cookbook/build/7dc193c6670bb7f3c2eec6b4f760b613.html"}}}],"key":"BEgGbxVNs4"}],"key":"L67yRqw0zz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There are two dimensions to this variable ... ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BT3PyB9TmM"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cxm78gYYX9"}],"key":"td4YqmFfHX"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Lx3ijvZpDb"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eMXbXb4qbn"}],"key":"c15n7AxVxg"},{"type":"text","value":". The former is straightforward:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kiy1X9kQXY"}],"key":"zMxPW55EIK"}],"key":"tf9SUvIouW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"msl.time","key":"fuqHX9WckO"},{"type":"output","id":"ZAC0D-1PYa7TfL8GPSH3k","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'time' (time: 374016)> Size: 3MB\narray(['1979-01-01T00:00:00.000000000', '1979-01-01T01:00:00.000000000',\n       '1979-01-01T02:00:00.000000000', ..., '2021-08-31T21:00:00.000000000',\n       '2021-08-31T22:00:00.000000000', '2021-08-31T23:00:00.000000000'],\n      shape=(374016,), dtype='datetime64[ns]')\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nAttributes:\n    long_name:      initial time of forecast\n    standard_name:  forecast_reference_time","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;time&#x27; (time: 374016)&gt; Size: 3MB\narray([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;\nAttributes:\n    long_name:      initial time of forecast\n    standard_name:  forecast_reference_time</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'time'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 374016</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-84cca493-1011-4244-90b6-cc2c54330405' class='xr-array-in' type='checkbox' checked><label for='section-84cca493-1011-4244-90b6-cc2c54330405' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>1979-01-01 1979-01-01T01:00:00 ... 2021-08-31T23:00:00</span></div><div class='xr-array-data'><pre>array([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></div></li><li class='xr-section-item'><input id='section-9b0368e5-1c72-4c07-b17a-0a57ae2dee3f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-9b0368e5-1c72-4c07-b17a-0a57ae2dee3f' class='xr-section-summary' >Coordinates: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>depthBelowLandLayer</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-eb3150bb-a90f-4b73-b92b-df3dee632293' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-eb3150bb-a90f-4b73-b92b-df3dee632293' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-52372041-5c5a-42ff-9e89-abf2a835d2cc' class='xr-var-data-in' type='checkbox'><label for='data-52372041-5c5a-42ff-9e89-abf2a835d2cc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>soil depth</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>standard_name :</span></dt><dd>depth</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>entireAtmosphere</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-f9d35d68-41b3-4fc5-ba35-6f9b449e0028' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f9d35d68-41b3-4fc5-ba35-6f9b449e0028' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5e955688-5ed4-404f-b8bf-5dceb41d5d58' class='xr-var-data-in' type='checkbox'><label for='data-5e955688-5ed4-404f-b8bf-5dceb41d5d58' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>original GRIB coordinate for key: level(entireAtmosphere)</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-8faa1ce9-aceb-455b-b55a-e6f4e7767b09' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8faa1ce9-aceb-455b-b55a-e6f4e7767b09' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-82ff99fa-9e70-47a1-aa62-8481f743d450' class='xr-var-data-in' type='checkbox'><label for='data-82ff99fa-9e70-47a1-aa62-8481f743d450' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>ensemble member numerical id</dd><dt><span>standard_name :</span></dt><dd>realization</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=int64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>step</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-2c4aa3d1-9fa2-4d8b-a43c-2ae62353611b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2c4aa3d1-9fa2-4d8b-a43c-2ae62353611b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-439750c3-8cac-4eca-8665-219989780584' class='xr-var-data-in' type='checkbox'><label for='data-439750c3-8cac-4eca-8665-219989780584' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time since forecast_reference_time</dd><dt><span>standard_name :</span></dt><dd>forecast_period</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=timedelta64[ns]]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>surface</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-38020356-160c-4bc5-b0b2-6b1a35c1fff8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-38020356-160c-4bc5-b0b2-6b1a35c1fff8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-00d3140c-f4ca-4b7b-bfb9-f0bdd5c1c117' class='xr-var-data-in' type='checkbox'><label for='data-00d3140c-f4ca-4b7b-bfb9-f0bdd5c1c117' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>original GRIB coordinate for key: level(surface)</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1979-01-01 ... 2021-08-31T23:00:00</div><input id='attrs-6d8aa37f-7f20-4e6b-b584-a324aae191b0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6d8aa37f-7f20-4e6b-b584-a324aae191b0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8377b16a-5699-4d0d-ae37-dbbfdb06fa71' class='xr-var-data-in' type='checkbox'><label for='data-8377b16a-5699-4d0d-ae37-dbbfdb06fa71' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>initial time of forecast</dd><dt><span>standard_name :</span></dt><dd>forecast_reference_time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>valid_time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-5ebf2821-6853-476e-a467-05288a97e24f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5ebf2821-6853-476e-a467-05288a97e24f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cc17a13c-9396-4766-9601-eb7fa87dd809' class='xr-var-data-in' type='checkbox'><label for='data-cc17a13c-9396-4766-9601-eb7fa87dd809' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd><dt><span>standard_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 2.85 MiB </td>\n                        <td> 384 B </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (374016,) </td>\n                        <td> (48,) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 7792 chunks in 2 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> datetime64[ns] numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"170\" height=\"75\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"120\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"0\" y1=\"25\" x2=\"120\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"25\" style=\"stroke-width:2\" />\n  <line x1=\"6\" y1=\"0\" x2=\"6\" y2=\"25\" />\n  <line x1=\"12\" y1=\"0\" x2=\"12\" y2=\"25\" />\n  <line x1=\"18\" y1=\"0\" x2=\"18\" y2=\"25\" />\n  <line x1=\"25\" y1=\"0\" x2=\"25\" y2=\"25\" />\n  <line x1=\"31\" y1=\"0\" x2=\"31\" y2=\"25\" />\n  <line x1=\"37\" y1=\"0\" x2=\"37\" y2=\"25\" />\n  <line x1=\"44\" y1=\"0\" x2=\"44\" y2=\"25\" />\n  <line x1=\"50\" y1=\"0\" x2=\"50\" y2=\"25\" />\n  <line x1=\"56\" y1=\"0\" x2=\"56\" y2=\"25\" />\n  <line x1=\"63\" y1=\"0\" x2=\"63\" y2=\"25\" />\n  <line x1=\"69\" y1=\"0\" x2=\"69\" y2=\"25\" />\n  <line x1=\"75\" y1=\"0\" x2=\"75\" y2=\"25\" />\n  <line x1=\"82\" y1=\"0\" x2=\"82\" y2=\"25\" />\n  <line x1=\"88\" y1=\"0\" x2=\"88\" y2=\"25\" />\n  <line x1=\"94\" y1=\"0\" x2=\"94\" y2=\"25\" />\n  <line x1=\"101\" y1=\"0\" x2=\"101\" y2=\"25\" />\n  <line x1=\"107\" y1=\"0\" x2=\"107\" y2=\"25\" />\n  <line x1=\"113\" y1=\"0\" x2=\"113\" y2=\"25\" />\n  <line x1=\"120\" y1=\"0\" x2=\"120\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485\" style=\"fill:#8B4903A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"60.000000\" y=\"45.412617\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >374016</text>\n  <text x=\"140.000000\" y=\"12.706308\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(0,140.000000,12.706308)\">1</text>\n</svg>\n        </td>\n    </tr>\n</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-6613594f-bb53-489c-a2cc-f03725776416' class='xr-section-summary-in' type='checkbox'  ><label for='section-6613594f-bb53-489c-a2cc-f03725776416' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-f6bc8e3e-b486-49f0-a258-a836a01bdd87' class='xr-index-data-in' type='checkbox'/><label for='index-f6bc8e3e-b486-49f0-a258-a836a01bdd87' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1979-01-01 00:00:00&#x27;, &#x27;1979-01-01 01:00:00&#x27;,\n               &#x27;1979-01-01 02:00:00&#x27;, &#x27;1979-01-01 03:00:00&#x27;,\n               &#x27;1979-01-01 04:00:00&#x27;, &#x27;1979-01-01 05:00:00&#x27;,\n               &#x27;1979-01-01 06:00:00&#x27;, &#x27;1979-01-01 07:00:00&#x27;,\n               &#x27;1979-01-01 08:00:00&#x27;, &#x27;1979-01-01 09:00:00&#x27;,\n               ...\n               &#x27;2021-08-31 14:00:00&#x27;, &#x27;2021-08-31 15:00:00&#x27;,\n               &#x27;2021-08-31 16:00:00&#x27;, &#x27;2021-08-31 17:00:00&#x27;,\n               &#x27;2021-08-31 18:00:00&#x27;, &#x27;2021-08-31 19:00:00&#x27;,\n               &#x27;2021-08-31 20:00:00&#x27;, &#x27;2021-08-31 21:00:00&#x27;,\n               &#x27;2021-08-31 22:00:00&#x27;, &#x27;2021-08-31 23:00:00&#x27;],\n              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=374016, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ad425352-575d-42f8-a665-58e7b3e07fa8' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ad425352-575d-42f8-a665-58e7b3e07fa8' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>initial time of forecast</dd><dt><span>standard_name :</span></dt><dd>forecast_reference_time</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"FdW42uL00w"}],"key":"VPuYAXmiJB"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The time resolution is hourly, commencing at 0000 UTC 1 January 1979 and running through 2300 UTC 31 August 2021.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eEnJZjX0WS"}],"key":"TtuzY9CwB6"}],"key":"xVY14zd1IF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The second dimension, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"G8v8jyGVQz"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LsIO6tJFFL"}],"key":"SUJjNUPMEN"},{"type":"text","value":", represents the actual data values. In order to usefully visualize and/or analyze it, we will need to regrid it onto a standard cartesian (in this case, latitude-longitude) grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mBddO3kWoi"}],"key":"NpVMqptR2N"}],"key":"EWtOyh2cNt"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"admonition alert alert-danger","children":[{"type":"paragraph","children":[{"type":"text","value":"Danger!","key":"sDfipqx2vd"}],"key":"J3InxKNO8s"},{"type":"text","value":"It might be tempting to run the code cell ","key":"ukK5lVNGiq"},{"type":"inlineCode","value":"msl.values","key":"dmcKIwyaJw"},{"type":"text","value":" here, but doing so will force all the data to be actively read into memory! Since this is a very large dataset, we definitely don't want to do that!","key":"AhEDywUwSv"}],"key":"y79tPnIwTC"}],"key":"Wi8CG2LrKc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regrid to cartesian coordinates","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uRzxnSRomC"}],"identifier":"regrid-to-cartesian-coordinates","label":"Regrid to cartesian coordinates","html_id":"regrid-to-cartesian-coordinates","implicit":true,"key":"aTXrbrFdCw"}],"key":"oFgEAKh0xS"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"These reanalyses are in their native, Guassian coordinates. We will define and use several functions to convert them to a lat-lon grid, using several functions described in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fdQaA9NPZL"},{"type":"link","url":"https://github.com/google-research/arco-era5/tree/main/docs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ARCO ERA-5 GCP example notebooks","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uEazvIKgW1"}],"urlSource":"https://github.com/google-research/arco-era5/tree/main/docs","error":true,"key":"FXQPk6mjsx"}],"key":"pxgX1b1H6a"}],"key":"lDl4lHAr0c"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def mirror_point_at_360(ds):\n  extra_point = (\n      ds.where(ds.longitude == 0, drop=True)\n      .assign_coords(longitude=lambda x: x.longitude + 360)\n  )\n  return xr.concat([ds, extra_point], dim='values')\n\ndef build_triangulation(x, y):\n  grid = np.stack([x, y], axis=1)\n  return scipy.spatial.Delaunay(grid)\n\ndef interpolate(data, tri, mesh):\n  indices = tri.find_simplex(mesh)\n  ndim = tri.transform.shape[-1]\n  T_inv = tri.transform[indices, :ndim, :]\n  r = tri.transform[indices, ndim, :]\n  c = np.einsum('...ij,...j', T_inv, mesh - r)\n  c = np.concatenate([c, 1 - c.sum(axis=-1, keepdims=True)], axis=-1)\n  result = np.einsum('...i,...i', data[:, tri.simplices[indices]], c)\n  return np.where(indices == -1, np.nan, result)","key":"LJb644t95C"},{"type":"output","id":"OtyWJ1xc5dJR_WetBoC0s","data":[],"key":"J8jTFOSAEv"}],"key":"sP21hN9NdB"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Select a particular time range from the dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HP2OsmyyBW"}],"key":"zKDvB9cLqe"}],"key":"M6NZNitpK3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds93 = msl.sel(time=slice('1993-03-13T18:00:00','1993-03-13T19:00:00')).compute().pipe(mirror_point_at_360)\nds93","key":"aHKloLaMX0"},{"type":"output","id":"iJwyyKmim8SVxhv54w-Sv","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 2, values: 542720)> Size: 4MB\narray([[101284.25, 101289.  , 101291.75, ..., 100017.5 , 100018.  ,\n        100000.5 ],\n       [101362.81, 101368.06, 101372.06, ..., 100015.81, 100012.06,\n         99996.81]], shape=(2, 542720), dtype=float32)\nCoordinates:\n    depthBelowLandLayer  float64 8B 100.0\n    entireAtmosphere     float64 8B 0.0\n    latitude             (values) float64 4MB 89.78 89.78 ... -89.51 -89.78\n    longitude            (values) float64 4MB 0.0 20.0 40.0 ... 360.0 360.0\n    number               int64 8B 0\n    step                 timedelta64[ns] 8B 00:00:00\n    surface              float64 8B 0.0\n  * time                 (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-0...\n    valid_time           (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-0...\nDimensions without coordinates: values\nAttributes: (12/25)\n    GRIB_N:                                   320\n    GRIB_NV:                                  0\n    GRIB_cfName:                              air_pressure_at_mean_sea_level\n    GRIB_cfVarName:                           msl\n    GRIB_dataType:                            an\n    GRIB_gridDefinitionDescription:           Gaussian Latitude/Longitude Grid\n    ...                                       ...\n    GRIB_totalNumber:                         0\n    GRIB_typeOfLevel:                         surface\n    GRIB_units:                               Pa\n    long_name:                                Mean sea level pressure\n    standard_name:                            air_pressure_at_mean_sea_level\n    units:                                    Pa","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"d175ff7d8b02aea7ef3ec8d97ecb4b2a","path":"/ERA5_interactive-cookbook/build/d175ff7d8b02aea7ef3ec8d97ecb4b2a.html"}}}],"key":"oZtSmK1eOk"}],"key":"ADY76TQsQZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regrid to a lat-lon grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lbwPNqJQTl"}],"key":"PE9r9j1PqZ"}],"key":"HU2mrewHDK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tri = build_triangulation(ds93.longitude, ds93.latitude)\n\nlongitude = np.linspace(0, 360, num=360*4+1)\nlatitude = np.linspace(-90, 90, num=180*4+1)\n\nmesh = np.stack(np.meshgrid(longitude, latitude, indexing='ij'), axis=-1)\n\ngrid_mesh = interpolate(ds93.values, tri, mesh)","key":"oqzFUMN3jH"},{"type":"output","id":"6RB0mwjjy2W4domq4o9sP","data":[],"key":"NZHElAoteX"}],"key":"hxN5VKoO7Y"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Construct an Xarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oG33Kgtlwf"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A2lUYVtZ9r"},{"type":"text","value":" from the regridded array.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"My6rSXE9LI"}],"key":"V2wc03z6gt"}],"key":"M0oQFlizO0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da = xr.DataArray(data=grid_mesh,\n                dims=[\"time\", \"longitude\", \"latitude\"],\n                coords=[('time', ds93.time.data), ('longitude', longitude), ('latitude', latitude)],\n                name='msl')","key":"n6a9Sv1Y1n"},{"type":"output","id":"nggQ3jvCOy_4nf-3N3nge","data":[],"key":"t93CcpufWB"}],"key":"Sj6Q19yawa"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Add some metadata to the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c30wuWtNlP"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dypPYdpEYa"},{"type":"text","value":"’s coordinate variables.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u5GqhYRzwu"}],"key":"kbQnHWfHsI"}],"key":"zzlkLq4J70"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.longitude.attrs['long_name'] = 'longitude'\nda.longitude.attrs['short_name'] = 'lon'\nda.longitude.attrs['units'] = 'degrees_east'\nda.longitude.attrs['axis'] = 'X'","key":"EBeIv62zzL"},{"type":"output","id":"GDChdjENo-_7JXn9d2rzG","data":[],"key":"dO8yQgFBD0"}],"key":"rBHv3CpAKf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.latitude.attrs['long_name'] = 'latitude'\nda.latitude.attrs['short_name'] = 'lat'\nda.latitude.attrs['units'] = 'degrees_north'\nda.latitude.attrs['axis'] = 'Y'","key":"ac5l3Hz50k"},{"type":"output","id":"Wu9Aqo8fFnYkwRtguVMGw","data":[],"key":"m8TtioLmTx"}],"key":"YZZqpT7T1P"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.time.attrs['long_name'] = 'time'","key":"PM6x88xKku"},{"type":"output","id":"1OzdC08cVh_4qxWgYN8pT","data":[],"key":"tJrLq0iI0z"}],"key":"bgOkYVHhOU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da","key":"vkP1ZkGdW7"},{"type":"output","id":"eNnJK1oTcIqV8v0fhd_pU","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 2, longitude: 1441, latitude: 721)> Size: 17MB\narray([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))\nCoordinates:\n  * time       (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-03-13T19:00:00\n  * longitude  (longitude) float64 12kB 0.0 0.25 0.5 0.75 ... 359.5 359.8 360.0\n  * latitude   (latitude) float64 6kB -90.0 -89.75 -89.5 ... 89.5 89.75 90.0","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;msl&#x27; (time: 2, longitude: 1441, latitude: 721)&gt; Size: 17MB\narray([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))\nCoordinates:\n  * time       (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-03-13T19:00:00\n  * longitude  (longitude) float64 12kB 0.0 0.25 0.5 0.75 ... 359.5 359.8 360.0\n  * latitude   (latitude) float64 6kB -90.0 -89.75 -89.5 ... 89.5 89.75 90.0</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'msl'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 2</li><li><span class='xr-has-index'>longitude</span>: 1441</li><li><span class='xr-has-index'>latitude</span>: 721</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-ea6e8c01-7e25-48ff-9d8f-210fdd4c3b98' class='xr-array-in' type='checkbox' checked><label for='section-ea6e8c01-7e25-48ff-9d8f-210fdd4c3b98' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan 1e+05 1e+05 1e+05 1e+05 ... 1.014e+05 1.014e+05 1.014e+05 nan</span></div><div class='xr-array-data'><pre>array([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))</pre></div></div></li><li class='xr-section-item'><input id='section-101f7604-0806-4109-8378-6f80211ae7fa' class='xr-section-summary-in' type='checkbox'  checked><label for='section-101f7604-0806-4109-8378-6f80211ae7fa' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-03-13T18:00:00 1993-03-13T1...</div><input id='attrs-e1f4d6c7-ea9e-4bbf-bc4d-00c197213dbf' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e1f4d6c7-ea9e-4bbf-bc4d-00c197213dbf' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c93f088a-a8f6-4138-b9f1-0cf9e507a3a1' class='xr-var-data-in' type='checkbox'><label for='data-c93f088a-a8f6-4138-b9f1-0cf9e507a3a1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1993-03-13T18:00:00.000000000&#x27;, &#x27;1993-03-13T19:00:00.000000000&#x27;],\n      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.25 0.5 ... 359.5 359.8 360.0</div><input id='attrs-04a332b1-dfe0-4c77-9cac-674d856dfa69' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-04a332b1-dfe0-4c77-9cac-674d856dfa69' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-59626d8c-4c37-469d-b6cc-fe9545a6e8c6' class='xr-var-data-in' type='checkbox'><label for='data-59626d8c-4c37-469d-b6cc-fe9545a6e8c6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>short_name :</span></dt><dd>lon</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.5000e-01, 5.0000e-01, ..., 3.5950e+02, 3.5975e+02,\n       3.6000e+02], shape=(1441,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-90.0 -89.75 -89.5 ... 89.75 90.0</div><input id='attrs-b2f0b7a8-ae31-454d-bfb9-7ad11f35daaa' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b2f0b7a8-ae31-454d-bfb9-7ad11f35daaa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-34fd4e27-6ab1-48e4-977d-7190c26e3517' class='xr-var-data-in' type='checkbox'><label for='data-34fd4e27-6ab1-48e4-977d-7190c26e3517' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>short_name :</span></dt><dd>lat</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([-90.  , -89.75, -89.5 , ...,  89.5 ,  89.75,  90.  ], shape=(721,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1f2754ed-8876-4fad-9bd6-40223c84688e' class='xr-section-summary-in' type='checkbox'  ><label for='section-1f2754ed-8876-4fad-9bd6-40223c84688e' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-27171d9b-800a-475e-ae8b-27a2adfa5c67' class='xr-index-data-in' type='checkbox'/><label for='index-27171d9b-800a-475e-ae8b-27a2adfa5c67' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1993-03-13 18:00:00&#x27;, &#x27;1993-03-13 19:00:00&#x27;], dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>longitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-d830ac43-d1ef-44cc-83fe-3b380d03c3f6' class='xr-index-data-in' type='checkbox'/><label for='index-d830ac43-d1ef-44cc-83fe-3b380d03c3f6' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.25,    0.5,   0.75,    1.0,   1.25,    1.5,   1.75,    2.0,\n         2.25,\n       ...\n       357.75,  358.0, 358.25,  358.5, 358.75,  359.0, 359.25,  359.5, 359.75,\n        360.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;longitude&#x27;, length=1441))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>latitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-d5b0da5a-20f0-48d9-beb7-8a0f3c5aa9be' class='xr-index-data-in' type='checkbox'/><label for='index-d5b0da5a-20f0-48d9-beb7-8a0f3c5aa9be' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ -90.0, -89.75,  -89.5, -89.25,  -89.0, -88.75,  -88.5, -88.25,  -88.0,\n       -87.75,\n       ...\n        87.75,   88.0,  88.25,   88.5,  88.75,   89.0,  89.25,   89.5,  89.75,\n         90.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;latitude&#x27;, length=721))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-e057fdf5-eedc-4e3c-a164-747aa1449b69' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-e057fdf5-eedc-4e3c-a164-747aa1449b69' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"rpyU18F5GM"}],"key":"OdOdGbdgqO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Select only the first time in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qlD05udFNP"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U3zXTWNX9u"},{"type":"text","value":" and convert to hPa.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"a7Qi9Uu75q"}],"key":"nTe9zVAWJo"}],"key":"yHJY3Eww7I"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slp = da.isel(time=0)/100.","key":"gv3z5OMRIB"},{"type":"output","id":"VDeTsY3YiB7WP1K5hW2Os","data":[],"key":"OxtOUOYTMJ"}],"key":"c7gLhNijhG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get a quick look at the grid to ensure all looks good.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qNJuZgOnNx"}],"key":"ZhR9kGzzri"}],"key":"mi4axxxvSp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slp.plot(x='longitude', y='latitude', cmap='viridis', size=7, aspect=2, add_colorbar=True, robust=True)","key":"jnWBf7RQfZ"},{"type":"output","id":"Z_6qzNRyxwwlAMNAtyr-F","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1400x700 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"47c184a7320c9432b40f4e767072d998","path":"/ERA5_interactive-cookbook/build/47c184a7320c9432b40f4e767072d998.png"}}}],"key":"nNg3CUQi3q"}],"key":"xfBmNQUMhT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the data on a map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qdhaJnnz53"}],"identifier":"plot-the-data-on-a-map","label":"Plot the data on a map","html_id":"plot-the-data-on-a-map","implicit":true,"key":"EvP5nMbyDJ"}],"key":"ZmgwOxGMmo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"nx,ny = np.meshgrid(longitude,latitude,indexing='ij')","key":"hJNAhVqC1S"},{"type":"output","id":"WaEbI2BSboBjFHCK_MDkf","data":[],"key":"sCCg57An8c"}],"key":"ielx5eTYIG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"timeStr = '1993-03-13T18:00'\n\ntl1 = f'ERA-5 SLP (hPa)'\ntl2 = f'Valid at: {timeStr}'\ntitle_line = (tl1 + '\\n' + tl2 + '\\n') # concatenate the two strings and add return characters","key":"JRnaIHTBzi"},{"type":"output","id":"8xBD4iDZF9UsVtwi1BaOH","data":[],"key":"KCQPmuOaEx"}],"key":"jg30FKOfxo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cint = np.arange(900,1080,4)","key":"t66KNEsS5q"},{"type":"output","id":"Nvt5BBunLs-yyXdCCEpqj","data":[],"key":"mzg7nSnXmQ"}],"key":"yKctgYiUpW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"res = '50m'\nfig = plt.figure(figsize=(15,10))\nax = plt.subplot(1,1,1,projection=ccrs.PlateCarree())\n#ax.set_extent ([lonW+constrainLon,lonE-constrainLon,latS+constrainLat,latN-constrainLat])\nax.add_feature(cfeature.COASTLINE.with_scale(res))\nax.add_feature(cfeature.STATES.with_scale(res))\n#CL = slp.cf.plot.contour(levels=cint,linewidths=1.25,colors='green')\nCL = ax.contour(nx, ny, slp, transform=ccrs.PlateCarree(),levels=cint, linewidths=1.25, colors='green')\nax.clabel(CL, inline_spacing=0.2, fontsize=11, fmt='%.0f')\n\ntitle = plt.title(title_line,fontsize=16)\n","key":"MTVozGGbDS"},{"type":"output","id":"hEXdO_CZ0t8JbdJORTbC8","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/ERA5_interactive/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_physical/ne_50m_coastline.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/ERA5_interactive/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_cultural/ne_50m_admin_1_states_provinces_lakes.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1000 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"8685109eed01944583bd54e71725a307","path":"/ERA5_interactive-cookbook/build/8685109eed01944583bd54e71725a307.png"}}}],"key":"NfthBOnPhw"}],"key":"IeX4sPXulJ"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dvnqkJBlKY"}],"key":"s48nk3xjG1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ivFaAf0gjD"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"d7LmHLL4Lh"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this notebook, we have accessed one of the ARCO ERA-5 datasets, regridded from the ECMWF native spectral to cartesian lat-lon coordinates, and created a map of sea-level pressure for a particular date and time.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LuvMBKja0s"}],"key":"L3tfVpOkmw"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"What’s next?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RCcD8bLPoB"}],"identifier":"whats-next","label":"What’s next?","html_id":"whats-next","implicit":true,"key":"h96JPj2UbX"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In the next notebook, we will leverage the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"cNdzPCplhN"},{"type":"link","url":"https://holoviz.org","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Holoviz ecosystem","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wBKcNeamQ7"}],"urlSource":"https://holoviz.org","key":"LnFlzZht1d"},{"type":"text","value":" and create interactive visualizations of the ARCO ERA-5 datasets.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"x69VqVWYgN"}],"key":"Dgz4BLQFJp"}],"key":"FG2cgr0NqQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and references","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WmQ5t4y70D"}],"identifier":"resources-and-references","label":"Resources and references","html_id":"resources-and-references","implicit":true,"key":"sW0XnFTdab"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This notebook follows the general workflow as used in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JBKosRvnEC"},{"type":"link","url":"https://github.com/google-research/arco-era5/blob/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Google Research ARCO-ERA5 Surface Reanlysis Walkthrough notebook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"x5v0aB7POf"}],"urlSource":"https://github.com/google-research/arco-era5/blob/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb","data":{"kind":"file","org":"google-research","repo":"arco-era5","reference":"main","file":"docs/0-Surface-Reanalysis-Walkthrough.ipynb","raw":"https://raw.githubusercontent.com/google-research/arco-era5/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb"},"internal":false,"protocol":"github","key":"eL5TKx3N2W"}],"key":"KLiLA6j3kn"}],"key":"uxcZWIVPsi"}],"key":"VbGj4Bd1Mf"}],"key":"wWykFwY4tX"},"references":{"cite":{"order":["Stern_2022"],"data":{"Stern_2022":{"label":"Stern_2022","enumerator":"1","doi":"10.3389/fclim.2021.782909","html":"Stern, C., Abernathey, R., Hamman, J., Wegener, R., Lepore, C., Harkins, S., & Merose, A. (2022). Pangeo Forge: Crowdsourcing Analysis-Ready, Cloud Optimized Data Production. <i>Frontiers in Climate</i>, <i>3</i>. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.3389/fclim.2021.782909\">10.3389/fclim.2021.782909</a>","url":"https://doi.org/10.3389/fclim.2021.782909"}}}},"footer":{"navigation":{"prev":{"title":"How to Cite This Cookbook","url":"/notebooks/how-to-cite","group":"Preamble"},"next":{"title":"Interactive Visualization using GeoViews","url":"/notebooks/interactivevisualization","group":"Visualization Notebooks"}}},"domain":"http://localhost:3000"}