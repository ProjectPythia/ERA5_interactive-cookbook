{"version":2,"kind":"Notebook","sha256":"ca4fa5593c663d663e711a8b727b25bf956c02a39dabf9ce67288d2039fa3d91","slug":"notebooks.basicvisualization","location":"/notebooks/01BasicVisualization.ipynb","dependencies":[],"frontmatter":{"title":"Basic Visualization using matplotlib and Cartopy","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/ERA5_interactive-cookbook","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/ERA5_interactive-cookbook/blob/main/notebooks/01BasicVisualization.ipynb","thumbnail":"/ERA5_interactive-cookbook/build/ProjectPythia_Logo_F-f66efcb415eb9a271dfdb6102039d93a.svg","exports":[{"format":"ipynb","filename":"01BasicVisualization.ipynb","url":"/ERA5_interactive-cookbook/build/01BasicVisualization-10b88058d8a6da7be2bd8046706fb6dc.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"image","url":"/ERA5_interactive-cookbook/build/ProjectPythia_Logo_F-f66efcb415eb9a271dfdb6102039d93a.svg","alt":"Project Pythia Logo","width":250,"key":"Q4G0gzWH6J","urlSource":"images/ProjectPythia_Logo_Final-01-Blue.svg"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I6BiJVtv3F"},{"type":"image","style":{"width":"250px"},"url":"/ERA5_interactive-cookbook/build/ecmwf-36ff1590bc17b9c41e8e3c724ebbe96a.png","alt":"ECMWF logo","key":"groYC01hGg","urlSource":"images/ecmwf.png"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"feXf2fDmrA"},{"type":"image","style":{"width":"250px"},"url":"/ERA5_interactive-cookbook/build/googleresearch-6b57e5f05b862e0d4f023c67e4e0a77b.png","alt":"Google logo","key":"fKjVVCcQTm","urlSource":"images/googleresearch.png"}],"key":"fjNfimA8mD"}],"key":"HKPCLRr6Rx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Basic Visualization using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LrDi8F1Kpc"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sb6uQJYLWd"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lYWuYyqT40"},{"type":"inlineCode","value":"Cartopy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A6oIQqADW1"}],"identifier":"basic-visualization-using-matplotlib-and-cartopy","label":"Basic Visualization using matplotlib and Cartopy","html_id":"basic-visualization-using-matplotlib-and-cartopy","implicit":true,"key":"YpK2OD3kjJ"}],"key":"zxoRcc8TSM"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wm8IYK4uma"}],"key":"rleuFKTKzt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oUblQ3INLW"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"bxUgkF5Q35"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"A team at ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"dhVE1UXqeb"},{"type":"link","url":"https://research.google/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Google Research & Cloud","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"RXt59QpzKC"}],"urlSource":"https://research.google/","key":"huLopOZNKE"},{"type":"text","value":" are making parts of the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"UQSdSzOBSJ"},{"type":"link","url":"https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ECMWF Reanalysis version 5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"IWGj1wJlH0"}],"urlSource":"https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5","key":"X3GMFvwBEx"},{"type":"text","value":" (aka ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Vj7Z5JN90H"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ERA-5","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"juTliLkcXv"}],"key":"VqCJ6baWbz"},{"type":"text","value":") accessible in a ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Qg53zxIj5I"},{"type":"cite","url":"https://www.frontiersin.org/articles/10.3389/fclim.2021.782909/full","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Analysis Ready, Cloud Optimized","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"G9Y0cvfgOT"}],"kind":"narrative","label":"Stern_2022","identifier":"https://www.frontiersin.org/articles/10.3389/fclim.2021.782909/full","enumerator":"1","key":"Sak9nVIQiq"},{"type":"text","value":" (aka ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ZDTsAjS6yP"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ARCO","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"sHdHbMEck6"}],"key":"ZCVWLd984t"},{"type":"text","value":") format.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AhscboCiz6"}],"key":"DXbJ5iHlPy"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this notebook, we will do the following:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"DNLwsyQxV3"}],"key":"hL9i1cdvI3"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Access the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"avKpZEm1lg"},{"type":"link","url":"https://github.com/google-research/arco-era5","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"ERA-5 ARCO","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"aJV0o6cuHi"}],"urlSource":"https://github.com/google-research/arco-era5","error":true,"key":"fhzjvrqymc"},{"type":"text","value":" catalog","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"EJAzJMWHQi"}],"key":"U28I2Njiq7"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Select a particular dataset and variable from the catalog","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"b4vbqRd5hc"}],"key":"rXrpaCctsk"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Convert the data from Gaussian to Cartesian coordinates","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ndT8riEhBS"}],"key":"jg0EUMzaki"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Plot a map of sea-level pressure at a specific date and time using Matplotlib and Cartopy.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"cnMkbZL53J"}],"key":"UtEl5QSsXb"}],"key":"Z0UQu3FvsG"}],"key":"w2rO0V6dxz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qMT4Wu4B22"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"A28himvfjc"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZJPg7ReLl9"}],"key":"XYqIMZKkAb"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZxHnTO0eYY"}],"key":"WJB7xaeFmF"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tXo7hHeIng"}],"key":"OjQQjaRQsG"}],"key":"NhiSWQsIJc"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/cartopy/cartopy.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Cartopy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"h0r1CIGwX9"}],"urlSource":"https://foundations.projectpythia.org/core/cartopy/cartopy.html","key":"gOwcGezRpl"}],"key":"i7sNdHk04s"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZpbWlUSp6D"}],"key":"uwrVDFUtbR"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[],"key":"Rva8MZVwKF"}],"key":"zto2jmdbNO"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/xarray","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Xarray","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"n2AADg9f31"}],"urlSource":"https://foundations.projectpythia.org/core/xarray","key":"CjvdroHBRL"}],"key":"XvtFsYv3ua"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"NmKAw2XPEY"}],"key":"QBaiv0sh5n"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[],"key":"CLaWpkiG6r"}],"key":"THhryy6k9C"}],"key":"PHGOZUjl4N"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"TPRoCvYldX"}],"key":"LLkKv2cmnG"},{"type":"text","value":": 30 minutes","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"woKK7OID3K"}],"key":"bPxCB73MaM"}],"key":"bYard7dvuw"}],"key":"dtW1QScD8H"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GfxwSkXc8A"}],"key":"FLHzOllFK6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HoZapnAdYf"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"NdURkNaOLd"}],"key":"XMhNLpouv8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import fsspec\nimport xarray as xr\nimport matplotlib.pyplot as plt\nimport cartopy.crs as ccrs\nimport cartopy.feature as cfeature\nimport scipy.spatial\nimport numpy as np\nimport cf_xarray as cfxr","key":"MOoTQG5yuz"},{"type":"output","id":"6k5UKyHAYdCK8-CjpT50O","data":[],"key":"TqRUucvekB"}],"key":"J9ozJTlXdo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access the ARCO ERA-5 catalog on Google Cloud","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jNHdsSaao1"}],"identifier":"access-the-arco-era-5-catalog-on-google-cloud","label":"Access the ARCO ERA-5 catalog on Google Cloud","html_id":"access-the-arco-era-5-catalog-on-google-cloud","implicit":true,"key":"nRUd6m1jRj"}],"key":"pKQPeDEQXz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Test bucket access with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"b60JNbEerr"},{"type":"inlineCode","value":"fsspec","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Fr8XnQVdgt"}],"key":"xwhMMUB4kH"}],"key":"LSpSUMJgCT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fs = fsspec.filesystem('gs')\nfs.ls('gs://gcp-public-data-arco-era5/co')","key":"EzId8rBbJb"},{"type":"output","id":"Ldh2XdsOfV5FBXFSuVFa0","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"['gcp-public-data-arco-era5/co/model-level-moisture.zarr',\n 'gcp-public-data-arco-era5/co/model-level-moisture.zarr-v2',\n 'gcp-public-data-arco-era5/co/model-level-wind.zarr',\n 'gcp-public-data-arco-era5/co/model-level-wind.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-forecast.zarr',\n 'gcp-public-data-arco-era5/co/single-level-forecast.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-reanalysis.zarr',\n 'gcp-public-data-arco-era5/co/single-level-reanalysis.zarr-v2',\n 'gcp-public-data-arco-era5/co/single-level-surface.zarr',\n 'gcp-public-data-arco-era5/co/single-level-surface.zarr-v2']","content_type":"text/plain"}}}],"key":"nznFFHXsPy"}],"key":"laOFuDKpSH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s open the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dtqdVWjfBB"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"single-level-reanalysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VYPhiS0mpw"}],"key":"jKBcJ5YZ89"},{"type":"text","value":" Zarr file.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Tw7CGCR5CJ"}],"key":"k2WnjBahsx"}],"key":"HxSc7exQZC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"reanalysis = xr.open_zarr(\n    'gs://gcp-public-data-arco-era5/co/single-level-reanalysis.zarr', \n    chunks={'time': 48},\n    consolidated=True,\n)","key":"tQrEDGVAua"},{"type":"output","id":"cRQSAcxG1dHbkNwlnIjXV","data":[{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_3869/165558829.py:1: FutureWarning: In a future version, xarray will not decode the variable 'step' into a timedelta64 dtype based on the presence of a timedelta-like 'units' attribute by default. Instead it will rely on the presence of a timedelta64 'dtype' attribute, which is now xarray's default way of encoding timedelta64 values.\nTo continue decoding into a timedelta64 dtype, either set `decode_timedelta=True` when opening this dataset, or add the attribute `dtype='timedelta64[ns]'` to this variable on disk.\nTo opt-in to future behavior, set `decode_timedelta=False`.\n  reanalysis = xr.open_zarr(\n"}],"key":"GIGXPxAg8d"}],"key":"tC3BLfvWdi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"print(f'size: {reanalysis.nbytes / (1024 ** 4)} TB')","key":"HTCpYF7fRW"},{"type":"output","id":"r4xbg3eQMEP9LtrrQlFrc","data":[{"output_type":"stream","name":"stdout","text":"size: 28.02835009436967 TB\n"}],"key":"EImj9KwyvR"}],"key":"XEh0yqLufU"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"That’s ... a big file! But Xarray is just ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j7adl9bqae"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"lazy loading","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hW9SnQfNW4"}],"key":"bZV2wcTGQj"},{"type":"text","value":" the data. We can access the dataset’s metadata:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DV7qM7rsxj"}],"key":"eynUQODb89"}],"key":"WELdgJcacW"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"reanalysis","key":"ZrdzBmHX09"},{"type":"output","id":"oLK9rs0XQfTb7VG6dmWmk","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 31TB\nDimensions:              (time: 374016, values: 542080)\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    latitude             (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    longitude            (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nDimensions without coordinates: values\nData variables: (12/38)\n    cape                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    d2m                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    hcc                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl1                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl2                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    istl3                (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    ...                   ...\n    tsn                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    u10                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    u100                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    v10                  (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    v100                 (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\n    z                    (time, values) float32 811GB dask.array<chunksize=(48, 542080), meta=np.ndarray>\nAttributes:\n    Conventions:               CF-1.7\n    GRIB_centre:               ecmf\n    GRIB_centreDescription:    European Centre for Medium-Range Weather Forec...\n    GRIB_edition:              1\n    GRIB_subCentre:            0\n    history:                   2022-09-23T18:56 GRIB to CDM+CF via cfgrib-0.9...\n    institution:               European Centre for Medium-Range Weather Forec...\n    pangeo-forge:inputs_hash:  5f4378143e9f42402424280b63472752da3aa79179b53b...\n    pangeo-forge:recipe_hash:  0c3415923e347ce9dac9dc5c6d209525f4d45d799bd25b...\n    pangeo-forge:version:      0.9.1","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"9e39d28578808d5d1c08275fa3477419","path":"/ERA5_interactive-cookbook/build/9e39d28578808d5d1c08275fa3477419.html"}}}],"key":"QoeVfqM8Up"}],"key":"ul6oNQ2QxF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s look at the mean sea-level pressure variable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jQ4irhKwHo"}],"key":"hLXgEt3KqZ"}],"key":"qvGLBGYO4a"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"msl = reanalysis.msl\nmsl","key":"rs3rSBtIjP"},{"type":"output","id":"r7W-GHcJQChF1fwvUMLbB","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 374016, values: 542080)> Size: 811GB\ndask.array<open_dataset-msl, shape=(374016, 542080), dtype=float32, chunksize=(48, 542080), chunktype=numpy.ndarray>\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    latitude             (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    longitude            (values) float64 4MB dask.array<chunksize=(542080,), meta=np.ndarray>\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nDimensions without coordinates: values\nAttributes: (12/25)\n    GRIB_N:                                   320\n    GRIB_NV:                                  0\n    GRIB_cfName:                              air_pressure_at_mean_sea_level\n    GRIB_cfVarName:                           msl\n    GRIB_dataType:                            an\n    GRIB_gridDefinitionDescription:           Gaussian Latitude/Longitude Grid\n    ...                                       ...\n    GRIB_totalNumber:                         0\n    GRIB_typeOfLevel:                         surface\n    GRIB_units:                               Pa\n    long_name:                                Mean sea level pressure\n    standard_name:                            air_pressure_at_mean_sea_level\n    units:                                    Pa","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"4bc2e3245295a0c875b12ad8929adce1","path":"/ERA5_interactive-cookbook/build/4bc2e3245295a0c875b12ad8929adce1.html"}}}],"key":"rhiIFtUsDk"}],"key":"gAOnAh0A2H"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There are two dimensions to this variable ... ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yEIGI7lGI1"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LoCofB52sy"}],"key":"CrapJOTggI"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GGIbpREbiW"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WzuzQEAmtO"}],"key":"Kza3RSE8kk"},{"type":"text","value":". The former is straightforward:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q71nyTFfRs"}],"key":"v4fqEhGynF"}],"key":"Gm9BVCKitY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"msl.time","key":"KzK252kDT2"},{"type":"output","id":"69Cd5VhB0nwRGx3xcHYAI","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'time' (time: 374016)> Size: 3MB\narray(['1979-01-01T00:00:00.000000000', '1979-01-01T01:00:00.000000000',\n       '1979-01-01T02:00:00.000000000', ..., '2021-08-31T21:00:00.000000000',\n       '2021-08-31T22:00:00.000000000', '2021-08-31T23:00:00.000000000'],\n      shape=(374016,), dtype='datetime64[ns]')\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array<chunksize=(48,), meta=np.ndarray>\nAttributes:\n    long_name:      initial time of forecast\n    standard_name:  forecast_reference_time","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;time&#x27; (time: 374016)&gt; Size: 3MB\narray([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)\nCoordinates:\n    depthBelowLandLayer  float64 8B ...\n    entireAtmosphere     float64 8B ...\n    number               int64 8B ...\n    step                 timedelta64[ns] 8B ...\n    surface              float64 8B ...\n  * time                 (time) datetime64[ns] 3MB 1979-01-01 ... 2021-08-31T...\n    valid_time           (time) datetime64[ns] 3MB dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;\nAttributes:\n    long_name:      initial time of forecast\n    standard_name:  forecast_reference_time</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'time'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 374016</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-3934b05c-f5e3-4ce5-b05b-f871b1012986' class='xr-array-in' type='checkbox' checked><label for='section-3934b05c-f5e3-4ce5-b05b-f871b1012986' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>1979-01-01 1979-01-01T01:00:00 ... 2021-08-31T23:00:00</span></div><div class='xr-array-data'><pre>array([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></div></li><li class='xr-section-item'><input id='section-c713f805-5248-4044-b62b-1c7c01bff36b' class='xr-section-summary-in' type='checkbox'  checked><label for='section-c713f805-5248-4044-b62b-1c7c01bff36b' class='xr-section-summary' >Coordinates: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>depthBelowLandLayer</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-b6c2ac00-1e39-4276-9377-574e7fc42ff0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b6c2ac00-1e39-4276-9377-574e7fc42ff0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-38f49458-eb35-4c38-975b-0318ace76eed' class='xr-var-data-in' type='checkbox'><label for='data-38f49458-eb35-4c38-975b-0318ace76eed' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>soil depth</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>standard_name :</span></dt><dd>depth</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>entireAtmosphere</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-c623025a-3f50-4ff6-aa75-af4c3ab05dfd' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c623025a-3f50-4ff6-aa75-af4c3ab05dfd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0cf72445-93ee-4f2d-af10-1cd426ebe3d0' class='xr-var-data-in' type='checkbox'><label for='data-0cf72445-93ee-4f2d-af10-1cd426ebe3d0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>original GRIB coordinate for key: level(entireAtmosphere)</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>number</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-6c9dd7c7-133e-4527-8450-1f094db1055c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6c9dd7c7-133e-4527-8450-1f094db1055c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e6bd3fe9-1991-4a0b-a6c7-c4b80cd8eec6' class='xr-var-data-in' type='checkbox'><label for='data-e6bd3fe9-1991-4a0b-a6c7-c4b80cd8eec6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>ensemble member numerical id</dd><dt><span>standard_name :</span></dt><dd>realization</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=int64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>step</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-34921bd1-7bf6-4385-8d69-8e2f3092f95a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-34921bd1-7bf6-4385-8d69-8e2f3092f95a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3def4676-945b-43c7-828d-4826753759c3' class='xr-var-data-in' type='checkbox'><label for='data-3def4676-945b-43c7-828d-4826753759c3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time since forecast_reference_time</dd><dt><span>standard_name :</span></dt><dd>forecast_period</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=timedelta64[ns]]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>surface</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-3ec341ff-1fa4-4633-bd6c-1b1ce089358f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3ec341ff-1fa4-4633-bd6c-1b1ce089358f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3220214e-2762-409d-9dbd-242cc436cee6' class='xr-var-data-in' type='checkbox'><label for='data-3220214e-2762-409d-9dbd-242cc436cee6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>original GRIB coordinate for key: level(surface)</dd><dt><span>units :</span></dt><dd>1</dd></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1979-01-01 ... 2021-08-31T23:00:00</div><input id='attrs-cbd917ce-295e-4742-9ea8-301a1e17ec4a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-cbd917ce-295e-4742-9ea8-301a1e17ec4a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7cc1c8f1-484d-488f-a789-23d30ca692a3' class='xr-var-data-in' type='checkbox'><label for='data-7cc1c8f1-484d-488f-a789-23d30ca692a3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>initial time of forecast</dd><dt><span>standard_name :</span></dt><dd>forecast_reference_time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1979-01-01T00:00:00.000000000&#x27;, &#x27;1979-01-01T01:00:00.000000000&#x27;,\n       &#x27;1979-01-01T02:00:00.000000000&#x27;, ..., &#x27;2021-08-31T21:00:00.000000000&#x27;,\n       &#x27;2021-08-31T22:00:00.000000000&#x27;, &#x27;2021-08-31T23:00:00.000000000&#x27;],\n      shape=(374016,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>valid_time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-154fc14b-23c2-4961-a597-1d798c6e5535' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-154fc14b-23c2-4961-a597-1d798c6e5535' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-24f9ad82-588c-4d8b-89cb-9d8fc71c37bb' class='xr-var-data-in' type='checkbox'><label for='data-24f9ad82-588c-4d8b-89cb-9d8fc71c37bb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd><dt><span>standard_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 2.85 MiB </td>\n                        <td> 384 B </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (374016,) </td>\n                        <td> (48,) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 7792 chunks in 2 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> datetime64[ns] numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"170\" height=\"75\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"120\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"0\" y1=\"25\" x2=\"120\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"25\" style=\"stroke-width:2\" />\n  <line x1=\"6\" y1=\"0\" x2=\"6\" y2=\"25\" />\n  <line x1=\"12\" y1=\"0\" x2=\"12\" y2=\"25\" />\n  <line x1=\"18\" y1=\"0\" x2=\"18\" y2=\"25\" />\n  <line x1=\"25\" y1=\"0\" x2=\"25\" y2=\"25\" />\n  <line x1=\"31\" y1=\"0\" x2=\"31\" y2=\"25\" />\n  <line x1=\"37\" y1=\"0\" x2=\"37\" y2=\"25\" />\n  <line x1=\"44\" y1=\"0\" x2=\"44\" y2=\"25\" />\n  <line x1=\"50\" y1=\"0\" x2=\"50\" y2=\"25\" />\n  <line x1=\"56\" y1=\"0\" x2=\"56\" y2=\"25\" />\n  <line x1=\"63\" y1=\"0\" x2=\"63\" y2=\"25\" />\n  <line x1=\"69\" y1=\"0\" x2=\"69\" y2=\"25\" />\n  <line x1=\"75\" y1=\"0\" x2=\"75\" y2=\"25\" />\n  <line x1=\"82\" y1=\"0\" x2=\"82\" y2=\"25\" />\n  <line x1=\"88\" y1=\"0\" x2=\"88\" y2=\"25\" />\n  <line x1=\"94\" y1=\"0\" x2=\"94\" y2=\"25\" />\n  <line x1=\"101\" y1=\"0\" x2=\"101\" y2=\"25\" />\n  <line x1=\"107\" y1=\"0\" x2=\"107\" y2=\"25\" />\n  <line x1=\"113\" y1=\"0\" x2=\"113\" y2=\"25\" />\n  <line x1=\"120\" y1=\"0\" x2=\"120\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485\" style=\"fill:#8B4903A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"60.000000\" y=\"45.412617\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >374016</text>\n  <text x=\"140.000000\" y=\"12.706308\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(0,140.000000,12.706308)\">1</text>\n</svg>\n        </td>\n    </tr>\n</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-661107c1-c878-4051-8184-07121e3d5b80' class='xr-section-summary-in' type='checkbox'  ><label for='section-661107c1-c878-4051-8184-07121e3d5b80' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-73eb371e-72a9-4277-bc25-348ef30f954c' class='xr-index-data-in' type='checkbox'/><label for='index-73eb371e-72a9-4277-bc25-348ef30f954c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1979-01-01 00:00:00&#x27;, &#x27;1979-01-01 01:00:00&#x27;,\n               &#x27;1979-01-01 02:00:00&#x27;, &#x27;1979-01-01 03:00:00&#x27;,\n               &#x27;1979-01-01 04:00:00&#x27;, &#x27;1979-01-01 05:00:00&#x27;,\n               &#x27;1979-01-01 06:00:00&#x27;, &#x27;1979-01-01 07:00:00&#x27;,\n               &#x27;1979-01-01 08:00:00&#x27;, &#x27;1979-01-01 09:00:00&#x27;,\n               ...\n               &#x27;2021-08-31 14:00:00&#x27;, &#x27;2021-08-31 15:00:00&#x27;,\n               &#x27;2021-08-31 16:00:00&#x27;, &#x27;2021-08-31 17:00:00&#x27;,\n               &#x27;2021-08-31 18:00:00&#x27;, &#x27;2021-08-31 19:00:00&#x27;,\n               &#x27;2021-08-31 20:00:00&#x27;, &#x27;2021-08-31 21:00:00&#x27;,\n               &#x27;2021-08-31 22:00:00&#x27;, &#x27;2021-08-31 23:00:00&#x27;],\n              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=374016, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a6f65cd3-0835-47e0-8a04-432fc86444b5' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a6f65cd3-0835-47e0-8a04-432fc86444b5' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>initial time of forecast</dd><dt><span>standard_name :</span></dt><dd>forecast_reference_time</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"sNTmlqHwG7"}],"key":"PWqWjC81i1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The time resolution is hourly, commencing at 0000 UTC 1 January 1979 and running through 2300 UTC 31 August 2021.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"N2tzvo4PGp"}],"key":"gAdIWdwTa3"}],"key":"jdY8B5mLLx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The second dimension, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fLY8WBSnKG"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yGjmT4TqAz"}],"key":"Tzl1Tb0dEe"},{"type":"text","value":", represents the actual data values. In order to usefully visualize and/or analyze it, we will need to regrid it onto a standard cartesian (in this case, latitude-longitude) grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y4ggvG6yw4"}],"key":"BtiRGtKl2n"}],"key":"YJWEahlkjI"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"admonition alert alert-danger","children":[{"type":"paragraph","children":[{"type":"text","value":"Danger!","key":"ES72cXzXjr"}],"key":"pd2IFlAX33"},{"type":"text","value":"It might be tempting to run the code cell ","key":"uEz09HPhkp"},{"type":"inlineCode","value":"msl.values","key":"NiNU2V5CM6"},{"type":"text","value":" here, but doing so will force all the data to be actively read into memory! Since this is a very large dataset, we definitely don't want to do that!","key":"U4ZHQTQnBy"}],"key":"H3LeeKgHsa"}],"key":"H2NVxGJtNu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regrid to cartesian coordinates","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Uk1w09o7kx"}],"identifier":"regrid-to-cartesian-coordinates","label":"Regrid to cartesian coordinates","html_id":"regrid-to-cartesian-coordinates","implicit":true,"key":"AVM6pf2lj9"}],"key":"Jz1saD0orG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"These reanalyses are in their native, Guassian coordinates. We will define and use several functions to convert them to a lat-lon grid, using several functions described in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"V0omT0fX5L"},{"type":"link","url":"https://github.com/google-research/arco-era5/tree/main/docs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ARCO ERA-5 GCP example notebooks","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jmsQ9IJjEi"}],"urlSource":"https://github.com/google-research/arco-era5/tree/main/docs","error":true,"key":"AESw4ofCeN"}],"key":"qQhE1q2sZM"}],"key":"ZfchmP7M8B"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def mirror_point_at_360(ds):\n  extra_point = (\n      ds.where(ds.longitude == 0, drop=True)\n      .assign_coords(longitude=lambda x: x.longitude + 360)\n  )\n  return xr.concat([ds, extra_point], dim='values')\n\ndef build_triangulation(x, y):\n  grid = np.stack([x, y], axis=1)\n  return scipy.spatial.Delaunay(grid)\n\ndef interpolate(data, tri, mesh):\n  indices = tri.find_simplex(mesh)\n  ndim = tri.transform.shape[-1]\n  T_inv = tri.transform[indices, :ndim, :]\n  r = tri.transform[indices, ndim, :]\n  c = np.einsum('...ij,...j', T_inv, mesh - r)\n  c = np.concatenate([c, 1 - c.sum(axis=-1, keepdims=True)], axis=-1)\n  result = np.einsum('...i,...i', data[:, tri.simplices[indices]], c)\n  return np.where(indices == -1, np.nan, result)","key":"vE9rsQCm7L"},{"type":"output","id":"2uvHRj70on-RqNENy9oy8","data":[],"key":"SHPbbrDSOH"}],"key":"VNpuLHo1VC"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Select a particular time range from the dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eWaeXNQXzs"}],"key":"rCLHcwQHb7"}],"key":"PopgM5qixC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds93 = msl.sel(time=slice('1993-03-13T18:00:00','1993-03-13T19:00:00')).compute().pipe(mirror_point_at_360)\nds93","key":"J01riP6hIz"},{"type":"output","id":"36P1u6Y4OWkm8XKKRtzEU","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 2, values: 542720)> Size: 4MB\narray([[101284.25, 101289.  , 101291.75, ..., 100017.5 , 100018.  ,\n        100000.5 ],\n       [101362.81, 101368.06, 101372.06, ..., 100015.81, 100012.06,\n         99996.81]], shape=(2, 542720), dtype=float32)\nCoordinates:\n    depthBelowLandLayer  float64 8B 100.0\n    entireAtmosphere     float64 8B 0.0\n    latitude             (values) float64 4MB 89.78 89.78 ... -89.51 -89.78\n    longitude            (values) float64 4MB 0.0 20.0 40.0 ... 360.0 360.0\n    number               int64 8B 0\n    step                 timedelta64[ns] 8B 00:00:00\n    surface              float64 8B 0.0\n  * time                 (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-0...\n    valid_time           (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-0...\nDimensions without coordinates: values\nAttributes: (12/25)\n    GRIB_N:                                   320\n    GRIB_NV:                                  0\n    GRIB_cfName:                              air_pressure_at_mean_sea_level\n    GRIB_cfVarName:                           msl\n    GRIB_dataType:                            an\n    GRIB_gridDefinitionDescription:           Gaussian Latitude/Longitude Grid\n    ...                                       ...\n    GRIB_totalNumber:                         0\n    GRIB_typeOfLevel:                         surface\n    GRIB_units:                               Pa\n    long_name:                                Mean sea level pressure\n    standard_name:                            air_pressure_at_mean_sea_level\n    units:                                    Pa","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"2eb84e7db1a557a85b9890c0bfce9f70","path":"/ERA5_interactive-cookbook/build/2eb84e7db1a557a85b9890c0bfce9f70.html"}}}],"key":"KUluChOc96"}],"key":"LFV0Js9F1U"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regrid to a lat-lon grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H9FFKlisdE"}],"key":"pPh6xBxcJC"}],"key":"XV2IQwFk2u"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tri = build_triangulation(ds93.longitude, ds93.latitude)\n\nlongitude = np.linspace(0, 360, num=360*4+1)\nlatitude = np.linspace(-90, 90, num=180*4+1)\n\nmesh = np.stack(np.meshgrid(longitude, latitude, indexing='ij'), axis=-1)\n\ngrid_mesh = interpolate(ds93.values, tri, mesh)","key":"ZFcPJ5dOyB"},{"type":"output","id":"YyVTCsOY3Fe95waWro5tb","data":[],"key":"bOg3Fp9E7D"}],"key":"dHIgw7kRgK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Construct an Xarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"K82XzcJ6ry"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RACAWIcN9L"},{"type":"text","value":" from the regridded array.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BYoQO48yMu"}],"key":"cTBpIovwr8"}],"key":"KlFLJIepQ4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da = xr.DataArray(data=grid_mesh,\n                dims=[\"time\", \"longitude\", \"latitude\"],\n                coords=[('time', ds93.time.data), ('longitude', longitude), ('latitude', latitude)],\n                name='msl')","key":"MrOQsOtO55"},{"type":"output","id":"S4rUXe_VMIC8-F0l1SxKj","data":[],"key":"AbdaFD6Wf4"}],"key":"D1HkizieFO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Add some metadata to the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qQwUDCEXpn"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"crg9qsXWkd"},{"type":"text","value":"’s coordinate variables.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kaGEh2DMdx"}],"key":"WcBhm6IDrw"}],"key":"muRCbaf3Yc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.longitude.attrs['long_name'] = 'longitude'\nda.longitude.attrs['short_name'] = 'lon'\nda.longitude.attrs['units'] = 'degrees_east'\nda.longitude.attrs['axis'] = 'X'","key":"jf82FeOnK2"},{"type":"output","id":"zzae8P6_OXEBG05a2W4xG","data":[],"key":"gnNqDv9ye4"}],"key":"FVyyXmIyKd"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.latitude.attrs['long_name'] = 'latitude'\nda.latitude.attrs['short_name'] = 'lat'\nda.latitude.attrs['units'] = 'degrees_north'\nda.latitude.attrs['axis'] = 'Y'","key":"uzIzUBpFvw"},{"type":"output","id":"f1vcJf9MBiVI7sKppJ9_L","data":[],"key":"wx1gn7SS3I"}],"key":"VdT3h4E45G"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da.time.attrs['long_name'] = 'time'","key":"Hj1f0MNBYQ"},{"type":"output","id":"jWCPQzHExNP8hT_bHASMl","data":[],"key":"NHAMk6gGrI"}],"key":"K462t3G7NA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"da","key":"rS9He5jMEd"},{"type":"output","id":"EV1jaeTz3U0i9lpW91SQf","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray 'msl' (time: 2, longitude: 1441, latitude: 721)> Size: 17MB\narray([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))\nCoordinates:\n  * time       (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-03-13T19:00:00\n  * longitude  (longitude) float64 12kB 0.0 0.25 0.5 0.75 ... 359.5 359.8 360.0\n  * latitude   (latitude) float64 6kB -90.0 -89.75 -89.5 ... 89.5 89.75 90.0","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;msl&#x27; (time: 2, longitude: 1441, latitude: 721)&gt; Size: 17MB\narray([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))\nCoordinates:\n  * time       (time) datetime64[ns] 16B 1993-03-13T18:00:00 1993-03-13T19:00:00\n  * longitude  (longitude) float64 12kB 0.0 0.25 0.5 0.75 ... 359.5 359.8 360.0\n  * latitude   (latitude) float64 6kB -90.0 -89.75 -89.5 ... 89.5 89.75 90.0</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'msl'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 2</li><li><span class='xr-has-index'>longitude</span>: 1441</li><li><span class='xr-has-index'>latitude</span>: 721</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-23076656-77ee-46cf-813b-094e82fc82d3' class='xr-array-in' type='checkbox' checked><label for='section-23076656-77ee-46cf-813b-094e82fc82d3' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan 1e+05 1e+05 1e+05 1e+05 ... 1.014e+05 1.014e+05 1.014e+05 nan</span></div><div class='xr-array-data'><pre>array([[[            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan],\n        [            nan, 100000.79174116, 100014.89271227, ...,\n         101302.38406705, 101286.66494564,             nan],\n        [            nan, 100002.16344993, 100011.395909  , ...,\n         101299.81740898, 101287.19520441,             nan],\n        ...,\n        [            nan,  99999.30903704,  99999.145909  , ...,\n         101296.64240898, 101285.92038913,             nan],\n        [            nan,  99998.18678864, 100008.76771227, ...,\n         101300.79656705, 101285.75316879,             nan],\n        [            nan, 100002.69017743, 100017.98893632, ...,\n         101304.89829242, 101286.78434817,             nan]],\n\n       [[            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan],\n        [            nan,  99997.98017601, 100011.52364926, ...,\n         101374.04479448, 101364.84414705,             nan],\n        [            nan,  99998.81250663, 100010.64536355, ...,\n         101372.49886357, 101365.04251313,             nan],\n        ...,\n        [            nan,  99995.68085761,  99998.14536355, ...,\n         101369.57386357, 101363.79856855,             nan],\n        [            nan,  99994.82433162, 100005.27364926, ...,\n         101372.58229448, 101363.96374431,             nan],\n        [            nan,  99998.72108319, 100012.14547759, ...,\n         101375.60015564, 101364.37691245,             nan]]],\n      shape=(2, 1441, 721))</pre></div></div></li><li class='xr-section-item'><input id='section-d1f5fda7-9e41-4336-9041-c72fe861b7e5' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d1f5fda7-9e41-4336-9041-c72fe861b7e5' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-03-13T18:00:00 1993-03-13T1...</div><input id='attrs-1feb9142-d21d-4a32-b5f6-288d7209b01a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1feb9142-d21d-4a32-b5f6-288d7209b01a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2c480b34-485d-4801-8108-a1a2c8bda8ef' class='xr-var-data-in' type='checkbox'><label for='data-2c480b34-485d-4801-8108-a1a2c8bda8ef' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;1993-03-13T18:00:00.000000000&#x27;, &#x27;1993-03-13T19:00:00.000000000&#x27;],\n      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.25 0.5 ... 359.5 359.8 360.0</div><input id='attrs-faff6dea-5406-457c-acbb-1969070ce027' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-faff6dea-5406-457c-acbb-1969070ce027' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-57f36340-dbd6-4191-a869-9dbe0be60d9c' class='xr-var-data-in' type='checkbox'><label for='data-57f36340-dbd6-4191-a869-9dbe0be60d9c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>short_name :</span></dt><dd>lon</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.5000e-01, 5.0000e-01, ..., 3.5950e+02, 3.5975e+02,\n       3.6000e+02], shape=(1441,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-90.0 -89.75 -89.5 ... 89.75 90.0</div><input id='attrs-bb9bc622-a69a-4ec4-97f3-cfdd9da44f5f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-bb9bc622-a69a-4ec4-97f3-cfdd9da44f5f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7b2adc7f-d922-435d-8420-bb85368705db' class='xr-var-data-in' type='checkbox'><label for='data-7b2adc7f-d922-435d-8420-bb85368705db' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>short_name :</span></dt><dd>lat</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd></dl></div><div class='xr-var-data'><pre>array([-90.  , -89.75, -89.5 , ...,  89.5 ,  89.75,  90.  ], shape=(721,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-0458c4a7-fbf3-4c56-b55d-c12442477e76' class='xr-section-summary-in' type='checkbox'  ><label for='section-0458c4a7-fbf3-4c56-b55d-c12442477e76' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-836ee4cd-c44b-46c5-ab18-cdc5b3834149' class='xr-index-data-in' type='checkbox'/><label for='index-836ee4cd-c44b-46c5-ab18-cdc5b3834149' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1993-03-13 18:00:00&#x27;, &#x27;1993-03-13 19:00:00&#x27;], dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>longitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-2d228039-79e6-407f-98de-bb47a08cc2a1' class='xr-index-data-in' type='checkbox'/><label for='index-2d228039-79e6-407f-98de-bb47a08cc2a1' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.25,    0.5,   0.75,    1.0,   1.25,    1.5,   1.75,    2.0,\n         2.25,\n       ...\n       357.75,  358.0, 358.25,  358.5, 358.75,  359.0, 359.25,  359.5, 359.75,\n        360.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;longitude&#x27;, length=1441))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>latitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-00eeeb39-05ab-4946-8e68-dd639ef42143' class='xr-index-data-in' type='checkbox'/><label for='index-00eeeb39-05ab-4946-8e68-dd639ef42143' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ -90.0, -89.75,  -89.5, -89.25,  -89.0, -88.75,  -88.5, -88.25,  -88.0,\n       -87.75,\n       ...\n        87.75,   88.0,  88.25,   88.5,  88.75,   89.0,  89.25,   89.5,  89.75,\n         90.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;latitude&#x27;, length=721))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ebdc03fa-67a3-4080-8be9-0eae65df8441' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-ebdc03fa-67a3-4080-8be9-0eae65df8441' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"wjEhwZCnqT"}],"key":"wJoX4czMMs"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Select only the first time in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ihcWzdtpG8"},{"type":"inlineCode","value":"DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mMJCZRgj72"},{"type":"text","value":" and convert to hPa.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rQaxacLNKG"}],"key":"llfwLKr7Ik"}],"key":"KWsYw9s6ZR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slp = da.isel(time=0)/100.","key":"JI7CJLc3MF"},{"type":"output","id":"J_iF-ISNx38veica0SW00","data":[],"key":"QGDW6gsJ76"}],"key":"CYCAdNKWG0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get a quick look at the grid to ensure all looks good.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rv0oGHKgmK"}],"key":"JvZBJeZSOa"}],"key":"lj9AZTBPRB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slp.plot(x='longitude', y='latitude', cmap='viridis', size=7, aspect=2, add_colorbar=True, robust=True)","key":"E6qxPfwG75"},{"type":"output","id":"3JxhvV58pYhwbdNRnGrpn","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1400x700 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"47c184a7320c9432b40f4e767072d998","path":"/ERA5_interactive-cookbook/build/47c184a7320c9432b40f4e767072d998.png"}}}],"key":"DuwW97BN7t"}],"key":"rejR0VYPr3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the data on a map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QVs17MABZs"}],"identifier":"plot-the-data-on-a-map","label":"Plot the data on a map","html_id":"plot-the-data-on-a-map","implicit":true,"key":"awFBfLiGFQ"}],"key":"QIvKsQdCtl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"nx,ny = np.meshgrid(longitude,latitude,indexing='ij')","key":"fEncPZYXPU"},{"type":"output","id":"aRGgar_4l2MLxui9uAEz_","data":[],"key":"o0E2QVSWyw"}],"key":"goNXhfXlDV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"timeStr = '1993-03-13T18:00'\n\ntl1 = f'ERA-5 SLP (hPa)'\ntl2 = f'Valid at: {timeStr}'\ntitle_line = (tl1 + '\\n' + tl2 + '\\n') # concatenate the two strings and add return characters","key":"SgjTbqVZml"},{"type":"output","id":"Ru4q-nz6jKsMQhFdC_IM9","data":[],"key":"T7QqKTsCpJ"}],"key":"gqrqXL8zF1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cint = np.arange(900,1080,4)","key":"qMBhThKrQl"},{"type":"output","id":"VzAvKtcgFjBXzMnq1sHOW","data":[],"key":"YxpqavqD2o"}],"key":"rBGsxC6azL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"res = '50m'\nfig = plt.figure(figsize=(15,10))\nax = plt.subplot(1,1,1,projection=ccrs.PlateCarree())\n#ax.set_extent ([lonW+constrainLon,lonE-constrainLon,latS+constrainLat,latN-constrainLat])\nax.add_feature(cfeature.COASTLINE.with_scale(res))\nax.add_feature(cfeature.STATES.with_scale(res))\n#CL = slp.cf.plot.contour(levels=cint,linewidths=1.25,colors='green')\nCL = ax.contour(nx, ny, slp, transform=ccrs.PlateCarree(),levels=cint, linewidths=1.25, colors='green')\nax.clabel(CL, inline_spacing=0.2, fontsize=11, fmt='%.0f')\n\ntitle = plt.title(title_line,fontsize=16)\n","key":"ud4flYjS8u"},{"type":"output","id":"ciXBiqAzFskbipaG7XSk7","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/ERA5_interactive/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_physical/ne_50m_coastline.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/ERA5_interactive/lib/python3.13/site-packages/cartopy/io/__init__.py:242: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_cultural/ne_50m_admin_1_states_provinces_lakes.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1000 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"8685109eed01944583bd54e71725a307","path":"/ERA5_interactive-cookbook/build/8685109eed01944583bd54e71725a307.png"}}}],"key":"alQZstSXBZ"}],"key":"w5iKfdurbi"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g2es2kiXDQ"}],"key":"e5cyrvFgyo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jqLEfjAcLW"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"dkP5TH6vit"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this notebook, we have accessed one of the ARCO ERA-5 datasets, regridded from the ECMWF native spectral to cartesian lat-lon coordinates, and created a map of sea-level pressure for a particular date and time.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"XPbkZtX6U2"}],"key":"SjMlpWu4VQ"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"What’s next?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qrp2cLYkfF"}],"identifier":"whats-next","label":"What’s next?","html_id":"whats-next","implicit":true,"key":"miBBo4dJGY"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In the next notebook, we will leverage the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zJVX0DhleK"},{"type":"link","url":"https://holoviz.org","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Holoviz ecosystem","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xe4d2X4dYU"}],"urlSource":"https://holoviz.org","key":"xqE8bLm0mW"},{"type":"text","value":" and create interactive visualizations of the ARCO ERA-5 datasets.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"YZipUbJay2"}],"key":"ASzlxWmtFq"}],"key":"AazWQM4qDp"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and references","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rIHJw1TNAV"}],"identifier":"resources-and-references","label":"Resources and references","html_id":"resources-and-references","implicit":true,"key":"IjzOg2hTUM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This notebook follows the general workflow as used in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Cf7U14Pf6d"},{"type":"link","url":"https://github.com/google-research/arco-era5/blob/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Google Research ARCO-ERA5 Surface Reanlysis Walkthrough notebook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wlcGnCTjva"}],"urlSource":"https://github.com/google-research/arco-era5/blob/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb","data":{"kind":"file","org":"google-research","repo":"arco-era5","reference":"main","file":"docs/0-Surface-Reanalysis-Walkthrough.ipynb","raw":"https://raw.githubusercontent.com/google-research/arco-era5/main/docs/0-Surface-Reanalysis-Walkthrough.ipynb"},"internal":false,"protocol":"github","key":"k2PDvkisgX"}],"key":"OB4rqLVZrO"}],"key":"nA4mfuSG5w"}],"key":"Ukaoig5pnq"}],"key":"eBm9NiX4rx"},"references":{"cite":{"order":["Stern_2022"],"data":{"Stern_2022":{"label":"Stern_2022","enumerator":"1","doi":"10.3389/fclim.2021.782909","html":"Stern, C., Abernathey, R., Hamman, J., Wegener, R., Lepore, C., Harkins, S., & Merose, A. (2022). Pangeo Forge: Crowdsourcing Analysis-Ready, Cloud Optimized Data Production. <i>Frontiers in Climate</i>, <i>3</i>. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.3389/fclim.2021.782909\">10.3389/fclim.2021.782909</a>","url":"https://doi.org/10.3389/fclim.2021.782909"}}}},"footer":{"navigation":{"prev":{"title":"How to Cite This Cookbook","url":"/notebooks/how-to-cite","group":"Preamble"},"next":{"title":"Interactive Visualization using GeoViews","url":"/notebooks/interactivevisualization","group":"Visualization Notebooks"}}},"domain":"http://localhost:3000"}